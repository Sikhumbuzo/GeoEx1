(function(){ovi.provide("nokia.maps.dom._extractCDATA");nokia.maps.dom.ti=function(d,k){var h,c,b,g;typeof d==="string"&&(d=UIComponent.findElement(d));if(d&&d.nodeType===1){h=d.getElementsByTagName("script");for(c=h.length||0;c--;)(b=h[c]).type==="CDATA"&&(g=/^\s*<!\[CDATA\[\s*([\s\S]*)\s*\]\]>\s*$/.exec(b.text))&&(g=g[1])&&k(b,g,b.getAttribute("charset")||""+c)}};ovi.provide("nokia.maps.reporter.settings");var ac=nokia;ac.cp=ac.cp||{};
ac.cp.mr={widgets:{core:{},ui:{}},base:{},cfg:{css:{classPrefix:"n_"},capi:{serviceUrl:"middleware.cmp.nokia.com",servicePort:"",serviceInterface:"maphub-service",repository:"production",layerId:"grp|wiki|WIKI_MAP_FEEDBACK",appId:"map_reporter_widget"},render:{marker:{draggable:!1,brush:{color:"#02F"},textPen:{strokeColor:"#333"},pen:{strokeColor:"#02B"},icon:ac.maps.config.reporter.full+"theme/default/render/marker.png",anchor:{x:18,y:45}},infoBubble:{autoClose:!0},showAddress:!0,showMarker:!1,useInfoBubble:!1},
tooltip:{updatePos:2},res:{host:ac.maps.config.reporter.full+"res",lang:"en",country:"US"},report:{editInMC:!0,mcLink:"http://here.com/mapcreator/{latitude},{longitude},{zoom},0,0",mcZoom:18}}};ovi.provide("nokia.maps.ui.nokia_generic.SpaceManager");
(function(d){var k={},h=d.ui.nokia_generic.SpaceManager=new ovi.Class({initialize:function(c){this.wb=c;this.Ka=ovi.bind(this,this.Ka);c.addListener("resizeend",this.Ka)},wb:null,St:0,Rt:0,Ta:{},Statics:{getSpaceManager:function(c){k[c.d]||(k[c.d]=new h(c));return k[c.d]}},registerSpace:function(c,b,d,a,e){this.Ta[c]||(this.Ta[c]={});this.Ta[c][b]={topLeft:d,bottomRight:a,flexible:e||!1}},setActiveState:function(c,b){for(var d in this.Ta[c])if(this.Ta[c][d].active)this.Ta[c][d].active=!1,delete this.Ta[c][d].active;
this.Ta[c]&&this.Ta[c][b]&&(this.Ta[c][b].active=!0)},removeComponent:function(c){delete this.Ta[c]},getDimensionsFor:function(c,b){return b?this.Ta[c][b]:this.Ta[c]},isSpaceFor:function(){},Ka:function(){this.St=this.wb.O.offsetWidth;this.Rt=this.wb.O.offsetHeight}})})(nokia.maps);ovi.provide("nokia.maps.util.ObjectFormatter");
(function(d){var k=/\[\[([^\]]+)\]\]/gi,h=/\{\{([^\}]+)\}\}/gi;d.ObjectFormatter=new ovi.Class({format:function(c,b,d){var a=b.match(k),e,h=0,f;if(a)for(f=a.length;h<f;h++)e=a[h].replace(k,"$1"),valueString=this.qh(e,c,d,!0),b=b.replace(a[h],valueString);return b=this.qh(b,c,d)},qh:function(c,b,g,a){var e=d.pm,k=c.match(h),f=!0,p,m=0,r;if(k)for(r=k.length;m<r;m++)p=k[m].replace(h,"$1"),p=g&&g[p]||e(p,b)||"",p=this.tk(p),p.length>0&&(f=!1),c=c.replace(k[m],p!=null?p:"");return a&&f?"":c},tk:function(c){var b=
"",d=typeof c;switch(d){case "object":case "undefined":case "function":b=d;break;case "string":b=c;break;case "number":case "boolean":b+=c}return b}})})(nokia.maps.util);ovi.provide("nokia.maps.ui.common.ColorSet");(function(d){var k="background border stroke fill text".split(" "),h=d.util.proto,c=d.ui.common.ColorSet=function(d,a){var e;if(b)return h(d,a?a instanceof c?a:h(a,b):b);for(e=k.length;e--;)this[k[e]]="#F60"},b=c.Un=new c})(nokia.maps);ovi.provide("nokia.maps.ui.common.ColorScheme");
(function(d){var k=d.ui.common,h="normal disable focus active".split(" "),c=nokia.maps.util.proto,b=k.ColorScheme=function(a,e){var d;if(g)return c(a,e?e instanceof b?e:c(e,g,!0):g,!0);for(d=h.length;d--;)this[h[d]]=k.ColorSet.Un},g=new b})(nokia.maps);ovi.provide("nokia.maps.reporter.ContextMenuHandler");
(nokia.maps.reporter.ContextMenuHandler=function(d){var k=this,h=nokia.maps,c=nokia.maps.util.getRootNameSpace("nokia.maps").Settings,b;k.qd=d;k.Ac=ovi.bind(k,k.Ac);b=function(b,a){k.wb=d.mapDisplay;b.target!==k.wb||c.secureConnection==="force"||a.addEntry("__i18n_rightClickMenu.reportProblem__",function(){var a=k.qd.node.ownerDocument,b;h.Features.getLoadedMap().reporter?k.Ac():(h.Features.load({reporter:"auto"},k.Ac,k.Il,d.node.ownerDocument,!1),b=a.createElement("link"),b.rel="stylesheet",b.href=
h.config.reporter.full+"theme/default/default.css",a.getElementsByTagName("head")[0].appendChild(b))},!0)};d.addHandler(b);d.constructor.mapFeedbackHandler=b}).prototype={Qd:0,Ac:function(){var d;this.am();this.Qd&&this.Qd.close();d=nokia.maps.util.getRootNameSpace("nokia.maps").Language.language.locale;d=d.split("-");this.Qd=new nokia.cp.mr.app({map:this.wb,coord:this.wb.pixelToGeo(this.qd.x,this.qd.y),accountId:"myaccount",editInMC:!0,useInfoBubble:!1,onclose:function(){},res:{lang:d[0],country:d[1]}})},
Il:function(){},am:function(){if(!nokia.places&&nokia.maps.search)nokia.places={search:{manager:{reverseGeoCode:function(d){var k=new nokia.maps.search.Manager;k.addObserver("state",function(h,c,b){if(b==="finished")d.onComplete({location:h.locations[0]},"OK");else if(b==="failed")d.onComplete(null,"ERROR")});k.reverseGeocode({latitude:d.latitude,longitude:d.longitude})}}}}}};ovi.provide("nokia.maps.ui.nokia_generic.UIScaler");
(function(d){d.ui.nokia_generic.UIScaler=ovi.Class({Extends:d.util.OObject,ID_TESTNODE:"ovi_ppitest",scaleFactor:0,Zp:{},rescale:function(k){if(this.scaleFactor!==0)return this.scaleFactor;var h=this.scaleFactor;this.Zp=k;this.Eu(k);k.parentNode.style.fontSize="10px";this.isMobile()?(k="http://10.225.86.65/rest/deviceinfo?useragent="+navigator.userAgent+"&format=jsonp",(new d.net.Request(1,{callbackKey:"callback"})).send(k,ovi.bind(this,this.dcsResponse))):(h=Math.round(34)/34,this.set("scaleFactor",
h))},dcsResponse:function(d){var h=1,h=0,c=d.response;if(c&&!d.error&&(d=c.DeviceCompatibilityService&&c.DeviceCompatibilityService.DeviceInfoResponse&&c.DeviceCompatibilityService.DeviceInfoResponse.Characteristics?c.DeviceCompatibilityService.DeviceInfoResponse.Characteristics:null,!d||!(h=d["display.dpi"])))d&&(h=this.areaComparison(d));h=Math.round(34*((h||165)/96))/34;this.set("scaleFactor",h)},areaComparison:function(d){try{var h=d["display.size"]||d["display.size.inches"]||(d["display.size.cms"]?
this.mmToInch(d["display.size.cms"]*100):!1),c=d["dimension.length"]-0,b=d["dimension.width"]-0,g=d["display.height"],a=d["display.width"],e;if(h)e=this.calcDiagonal(g,a)/h;else{var l=this.calcDiagonal(this.mmToInch(c),this.mmToInch(b));l*=0.663979;e=this.calcDiagonal(g,a)/l}return e}catch(f){}},scaleFactorSetter:function(d){if(typeof d==="number")return this.Zp.style.cssText+=";font-size:"+d+"em;",this.scaleFactor=d},isMobile:function(){var d=ovi.platform,h=!0;if(navigator.userAgent.toLowerCase().indexOf("mobi")>
-1)h=!0;else if(d.windows||d.mac)h=!1;return h},Eu:function(d){if(ovi.browser.msie){var h=ovi.browser.version-0;h<=7?ovi.dom.addClass(d,"IE7"):h<=8&&ovi.dom.addClass(d,"IE8")}},sv:function(d){var h=d.ownerDocument;return this.Iu||(this.Iu=function(){var c=h.createElement("div");c.id="ovi_ppitest";document.body.appendChild(c);return c}())},calcDiagonal:function(d,h){return Math.sqrt(d*d-h*h)},mmToInch:function(d){return d*0.039370079}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.Animator");
(function(){var d=nokia.maps.util,k=d.now,h=Math.min,c=d.Coroutine;nokia.maps.ui.common.Animator=new ovi.Class({initialize:function(b,d,a,e){var l=this;if(ovi.type(e)=="number")l.Af=e;l.gk=b;l.fc=d;l.rm=a;l.animatorCoCtx=c.create("nokia.maps.ui.common.Animator",function(){var a=(k()-l.gd)/1E3/l.fc,a=l.rm?a%1:h(1,a);l.gk(a);if(a==1)return l.stop(),c.BLOCKED;return c.sleep(1/l.Af*1E3)})();c.sleep(null,l.animatorCoCtx)},Af:20,Kc:!1,start:function(b){ovi.type(b)!="number"&&(b=0);this.gd=k()-b*this.fc*
1E3;if(!this.Kc)this.Kc=!0,c.resume(this.animatorCoCtx)},stop:function(){if(!this.Kc)return 1;this.Kc=!1;c.sleep(null,this.animatorCoCtx);return(k()-this.gd)/1E3/this.fc}})})();ovi.provide("nokia.maps.ui.common.GfxTemplate");
(function(d){function k(a,b){return g[b&&typeof b==="string"?b:0]}var h=d.gfx,c=new h.SvgParser,b=d.util,g,a={background:"#00F",border:"#FF0",stroke:"#0F0",fill:"#FFA500",text:"#000",label:"FF9900"},e={background:/darkgray/g,border:/darkblue/g,stroke:/darkgold/g,fill:/darkaqua/g,text:/darkpink/g,label:/_label(\d*)_/g};d.ui.common.GfxTemplate=new ovi.Class({initialize:function(d,f,h,m){var r,m=b.proto(m,e);g=b.isArray(h)?h:[h||""];f=f||a;for(r in e)d=d.replace(m[r],r==="label"?k:f[r]);this.Eh=c.parseSvgInfo(d)},
HORIZONTAL:1,VERTICAL:2,stencil:function(a,b,e){var d=this.Eh,g=d.width,d=d.height,k=new h.Graphics;if((a=+a||1)<0||a===1/0)a=1;b=b%360||0;e=e&3||0;k.save();k.beginImage(g*a,d*a,a+"_"+b+"_"+e);k.scale(a,a);b&&(k.translate(g/2,d/2),k.rotate(-b),k.translate(g/-2,d/-2));e&1&&(k.translate(g,0),k.scale(-1,1));e&2&&(k.translate(0,d),k.scale(1,-1));c.parseSvgToGraphics(this.Eh.document,k);k.restore();return k}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.Bubble");
(function(d){function k(a){a.me()}function h(a){a.Kb()}function c(a){a.Kb()}var b=d.dom.EventTarget,g=d.geo.Coordinate,a=d.dom.Page,e=a.browser.touch?"tap":"click",l=!!(a.browser.msie&&a.browser.version<=8),f=d.dom.findElement,p=d.util.c,m={x:16,y:16},r={x:20,y:16};d.ui.common.Bubble=new ovi.Class({Extends:nokia.maps.util.OObject,initialize:function(a){var d=this;d._super(a);d.addObserver("xAlignment",c);d.addObserver("yAlignment",c);d.addObserver("coordinate",h);d.Q=a.Q;d.addObserver("backgroundColor",
function(){});d.addObserver("content",k);d.node=b(d.node);d.node.setAttribute("aria-hidden","true");d.node.setAttribute("tabindex","0");d.node.bubble=d;d.contentNode=f(d.Q+"bubble_content",d.node);d.Pf=function(){d.close();d.Ol()};d.kb=b(f(d.Q+"bubble_control_close",d.node));d.kb.addListener(e,d.Pf);d.Tm=f(d.Q+"bubble_tail",d.node);d.ge="initialized";d.cg=!1;d.Ca=!1},open:function(a){this.cg&&p("The info bubble ["+this.id+"] is already destroyed.");if(!this.Ca)this.Ca=!0,a&&this.set("coordinate",
a),this.coordinate||p("The info bubble ["+this.id+"] has no coordinate set."),this.xd&&(typeof this.xd=="function"?this.xd(this.kb):this.kb.parentNode.removeChild(this.kb)),this.node.setAttribute("aria-hidden","false"),this.ge="opened",this.me(),this.Kb(),this.Jl()},close:function(a){if(this.Ca)this.Ca=!1,this.Q==="nm_"?this.node.setAttribute("aria-hidden","true"):ovi.dom.addClass(this.node,"ovi_hidden"),this.Cl(),!a&&this.Fk();this.ge="closed"},Fk:function(){this.cg=!0;this.kb.removeListener(e,this.Pf);
this.node.parentNode.removeChild(this.node);delete this.node},update:function(a,b){a&&this.ym(a);b&&this.set("coordinate",b);this.me();this.Kb()},isVisible:function(){return this.mn},getState:function(){return this.ge},me:function(){if(this.Ca&&this.qg()){var a,b=this.node.style,c=this.defaultWidth,e=this.defaultHeight;b.whiteSpace="nowrap";b.width="";if(c!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetWidth,a<=c))b.width=c+"px";b.height="";if(e!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetHeight,
a<=e))b.height=e+"px"}},Kb:function(){if(this.Ca){var a=this.qg(),b=a.width,c=a.height,e=a.padding,a=a.geoToPixel(this.coordinate),f=this.node,d=f.style,g=f.offsetWidth+m.x/2,h=f.offsetHeight+m.y/2,k=this.xAlignment,l=this.yAlignment,p=this.Q+"infoBubble "+this.Q+"align",r={};k!=="right"&&k!=="left"&&(k="right");l!=="above"&&k!=="below"&&(l="below");var G={};G.left=g-e.left<a.x;G.right=g-e.right<b-a.x;G.above=h-e.top<a.y;G.below=h-e.bottom<c-a.y;this.Sk||(k==="right"&&!G.right&&G.left?k="left":k===
"left"&&!G.left&&G.right&&(k="right"),l==="above"&&!G.above&&G.below?l="below":l==="below"&&!G.below&&G.above&&(l="above"));k==="right"?(d.right="auto",d.left=a.x+"px",r.x=a.x):(d.left="auto",d.right=b-a.x+"px",r.x=a.x-g);l==="below"?(d.bottom="auto",d.top=a.y+"px",r.y=a.y):(d.top="auto",d.bottom=c-a.y+"px",r.y=a.y-h);this.mn=r.x+g>0&&r.y+h>0&&r.x<=b&&r.y<=c;p+=k==="left"?"Left":"Right";p+=l==="above"?"Above":"Below";f.className=p;this.Sk||(this.xAlign!==k&&this.set("xAlignment",k),this.yAlign!==
l&&this.set("yAlignment",l));if(this.zl!==p)this.zl=p,this.Rk(k,l)}},Rk:function(a,b){var c=this.Tm,e=c.style,f=this.xAlignment,d=this.yAlignment,g=l?r:m;c.innerHTML="";e.left=f=="right"?"-"+g.x/2+"px":"auto";e.right=f=="left"?(l?"":"-")+g.x/2+"px":"auto";e.top=d=="below"?"-"+g.y/2+"px":"auto";e.bottom=d=="above"?(l?"":"-")+g.y/2+"px":"auto";c.appendChild(this.Xa[a+b])},coordinateSetter:function(a){return g.fromObject(a)},ym:function(a){typeof a=="string"?this.contentNode.innerHTML=a:typeof a=="object"&&
a.nodeType===1&&typeof a.nodeName=="string"?this.contentNode.appendChild(a):p("The content of info bubble ["+this.id+"] has to be a string or a HTML element")},xAlignmentSetter:function(a){a!=="right"&&a!="left"&&p("The value of xAlignment property must be either 'left' or 'right'");return a},yAlignmentSetter:function(a){a!=="above"&&a!="below"&&p("The value of yAlignment property must be either 'above' or 'below'");return a}})})(nokia.maps);ovi.provide("nokia.maps.ui.UIComponent");
(function(d){var k=d.util,h=d.ui.UIComponent=new ovi.Class({Extends:d.map.component.Component,Mixins:[d.dom.EventTarget],initialize:function(c){this._super(c);this.onLanguageChange&&k.getRootNameSpace("nokia.maps").Settings.addObserver("defaultLanguage",this.onLanguageChange,this)},build:function(c){!c&&!this.node&&ovi.error('#build() method of component "'+this.getId()+'" was not implemented (properly).');this.node?this.getRootNode().appendChild(this.node):this.set("node",h.findElement(c,this.getTemplate()))},
attach:function(c){this._super(c);this.node||this.build();this.show()},detach:function(c){this.hide();this._super(c)},hiddenSetter:function(c){if(!this.node)return c;c?ovi.dom.addClass(this.node,"ovi_hidden"):ovi.dom.removeClass(this.node,"ovi_hidden");return c},show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},expandedSetter:function(c){return c},expand:function(){this.set("expanded",!0)},collapse:function(){this.set("expanded",!1)},findElement:function(c,b){return h.findElement(c,
b||this.node)},doc:function(){var c=this.mapDisplay.P||null;return c?c.ownerDocument:null},translate:function(c){return h.getTranslation(c)},translateHtml:function(c){return h.translateHtml(c)},om:function(c,b,d){return c=c.replace(d,function(a,c){return'url("'+b+c+'")'})},getRootNode:function(){return this.getTemplate()},getClippingNode:function(){return this.mapDisplay.Sa},getSize:function(c){c=c===void 0?this.mapDisplay.P:c;return{width:c.clientWidth,height:c.clientHeight}},enabledSetter:function(c){c?
!this.hidden&&this.show():this.hide();return c},Statics:{renderTemplate:function(c,b,g){var a=c.P,e=a.ownerDocument,k=e.createElement("style"),f=d.dom.EventTarget(e.createElement("div"));k.type="text/css";f.className="ovi_mp_controls";k.styleSheet?k.styleSheet.cssText=g:k.appendChild(e.createTextNode(g));e.getElementsByTagName("head")[0].appendChild(k);b=b.replace(/(^[\s\S]*\<body\>)([\s\S]+)(<\/body>[\s\S]*)/,"$2");f.innerHTML=b;a.appendChild(f);f.style.zIndex=0;c.$e.addListener("mouseenter",ovi.bind(c,
h.C));c.$e.addListener("mouseleave",ovi.bind(c,h.G));c.addObserver("baseMapType",h.Pg,h);h.Pg(c,"baseMapType",h.baseMapType,null);return f},findElement:function(c,b){if(b instanceof nokia.maps.map.Display)return h.findElement(c,b.P)||h.findElement(c,b.Sa);for(var d=RegExp("(^|\\s)"+c+"($|\\s)"),a=b.getElementsByTagName("*"),e=0;e<a.length;e++)if(d.test(a[e].className))return a[e];return null},i18n:new d.language.Manager,getTranslation:function(c){return h.i18n.translateToken(c,!1)},translateHtml:function(c){return h.i18n.translate(c,
!1,/__i18n_([a-zA-Z0-9_\.]*)__/g)},Pg:function(c,b,d){var b=c.P,a=ovi.dom.removeClass,e=ovi.dom.addClass;d===c.NORMAL?(e(b,"ovi_mp_mapScheme_normal"),a(b,"ovi_mp_mapScheme_satellite"),a(b,"ovi_mp_mapScheme_terrain")):d===c.SATELLITE?(a(b,"ovi_mp_mapScheme_normal"),e(b,"ovi_mp_mapScheme_satellite"),a(b,"ovi_mp_mapScheme_terrain")):d===c.TERRAIN&&(a(b,"ovi_mp_mapScheme_normal"),a(b,"ovi_mp_mapScheme_satellite"),e(b,"ovi_mp_mapScheme_terrain"))},C:function(){ovi.dom.addClass(this.P,"ovi_mp_hover")},
G:function(){ovi.dom.removeClass(this.P,"ovi_mp_hover")},hideAll:function(c,b){for(var d=c.Rf={},a,e=c.components.asArray(),k=e.length;k--;)if(a=e[k],a instanceof h)d[a.getId()]=a.hidden,a===b?a.show():a.hide()},restoreAll:function(c){var b=c.Rf,d;if(b){for(d in b)c.getComponentById(d).set("hidden",b[d]);delete c.Rf}}}});d.ui.AbstractUIComponent=d.ui.UIComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.UIComponent");ovi.provide("nokia.maps.resources.ui.nokia_generic.html");
nokia.maps.resources.ui.nokia_generic.html='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n\t<head>\n\t\t<title>Nokia Maps - UI Components for Web</title>\n\t\t<\!--<link rel="stylesheet" type="text/css" href="ovi_touch.css" />--\>\n\t</head>\n\t<body>\n\t\t<\!-- Icon (actually pictograph) resources are added as SVG comments in faux script tags (<script type="text/foobar">). This hack insures that browsers\n\t\twhich are capable of parsing inline SVG do not begin to parse the cdata content, as webkit browsers are prone to do.\n\t\t<svg> tags are added to tags which have these been consciously omitted as they measure up to the 34x34 standard dimensions--\>\n\t\t<\!-- hiddenListener START --\>\n\t\t<div class="nm_hiddenListener nm_hidden">\n\t\t</div>\n\t\t<\!-- hiddenListener END --\>\n\t\t\n\t\t<\!--info bubble START --\>\n\t\t<div class="nm_infoBubble" role="tooltip" aria-hidden="true">\n\t\t\t<div class="nm_bubble">\n\t\t\t\t<div class="nm_bubble_bg nm_contentBG"></div>\n\t\t\t\t<div class="nm_bubble_controls">\n\t\t\t\t\t<span class="nm_bubble_control_close">&times;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_content">\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_linksbar"></div>\n\t\t\t\t<div  class="nm_bubble_tail">\n\t\t\t\t\t<script type="CDATA"  charset="infobubble">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<svg xmlns=\'http://www.w3.org/2000/svg\' version=\'1.1\' height=\'16\' width=\'20\'>\n\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t<path style="color:darkpink;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3069" d="m -35,52 l 10,16 l 0,-2 c 0,-2.216 1.784,-4 4,-4 l 6,0 L -35,52 z" transform="translate(35,-52)" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- info bubble END --\>\n\t\t\n\t\t<\!-- miniman START --\>\n\t\t<div class="nm_miniman">\n\t\t</div>\n\t\t<div class="nm_miniman_point">\n\t\t</div>\n\t\t<\!-- miniman END --\>\n\t\t\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_top">\n\t\t\t<\!-- Positioning START --\>\n\t\t\t<div class="nm_positioningWrap nm_wrap nm_left nm_singleButton" aria-role="button" aria-pressed="false" aria-busy="false"  aria-hidden="true" >\n\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t<div class="nm_pos_icon_normal">\n\t\t\t\t\t<script type="CDATA" charset="positioning_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"/>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_pressed">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_busy">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_busy">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Positioning END --\>\n\t\t\t\n\t\t\t<\!-- MapSettings START--\>\n\t\t\t<ul class="nm_mapSettingsWrap nm_right nm_has3D" aria-role="menubar" aria-expanded="false" >\n\t\t\t\t<ul class="nm_wrapperBG">\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li class="nm_3DBG"></li>\n\t\t\t\t</ul>\n\t\t\t\t<li class="nm_publicTransport nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="publicTransport">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 20.445561,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3113" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 10.970269,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3111" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 21.061847,22.26838 c -0.771141,0 -1.396706,-0.628111 -1.396706,-1.401796 c 0,-0.771649 0.625565,-1.401794 1.396706,-1.401794 c 0.77572,0 1.402812,0.627601 1.402812,1.401794 c 0,0.772667 -0.626074,1.401796 -1.402812,1.401796 z m -8.126238,-0.0056 c -0.774194,0 -1.400777,-0.623529 -1.400777,-1.396196 c 0,-0.769103 0.626583,-1.399759 1.400777,-1.399759 c 0.772667,0 1.398741,0.625566 1.398741,1.399759 c 0,0.772667 -0.626074,1.396196 -1.398741,1.396196 z M 11.989901,13.002736 C 11.988506,12.450978 12.271014,12 12.815647,12 l 8.347497,0 C 21.710832,12 21.998605,12.450978 22,13.002736 l 0.0101,3.995546 C 22.011499,17.551567 21.718387,18 21.173244,18 l -8.347498,0 C 12.280095,18 12.001398,17.551567 12,16.998282 z M 13,10 l 8,0 l 0,1 l -8,0 z m 6.584161,-2.0000001 l -5.155636,0 C 11.825325,7.9999999 10,9.4973374 10,10.986027 l 0,11.482166 C 10,23.844028 10.718665,24 11.463846,24 l 11.07129,0 C 23.27879,24 24,23.857495 24,22.481656 L 24,11 C 24,9.4917667 22.149293,7.9999999 19.584161,7.9999999 z" id="path3075" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<li class="nm_trafficIncidents nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="trafficIncidents">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path style="fill:darkaqua;stroke:none" d="m 17,10 l 8.5,8.5 l -8.5,8.5 l -8.5,-8.5 z" />\n\t\t\t\t\t\t\t<path fill="#ccc" d="m 16,13.5 l 2,0 l 0,6 l -2,0 z" />\n\t\t\t\t\t\t\t<path fill="#ccc" d="m 16,21 l 2,0 l 0,2 l -2,0 z" />\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<li class="nm_traffic nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="traffic">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 13.999309,24.730567 l 0,1.269433 L 12,26 l 0,-1.590264 c 0.283371,0.201199 0.625954,0.320831 1.002374,0.320831 z" id="path6066" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 13.126235,18.456519 c 0.129904,-0.381254 0.925036,-2.773294 0.925036,-2.773294 c 0.133529,-0.409652 0.514781,-0.681542 0.947392,-0.681542 l 8.000258,0 c 0.430193,0 0.815675,0.272496 0.951017,0.681542 c 0,0 0.793923,2.39204 0.921409,2.773294 c 0.233827,0.237452 0.835614,0.838029 0.835614,0.838029 C 25.893661,19.478831 26,19.733805 26,20.000258 l 0,3.001079 c 0,0.551639 -0.446507,0.999352 -0.999352,0.999352 l -12.000087,0 c -0.554659,0 -1.00177,-0.447713 -1.00177,-0.999352 l 0,-3.001683 c 0,-0.266454 0.104527,-0.521428 0.29606,-0.705709 c -6.04e-4,0 0.601183,-0.60058 0.831384,-0.837426 z M 22.527038,16 l -7.049847,0 l -0.780631,2.999698 l 8.607484,0 z m 1.301455,6.719778 c 0.734107,0 1.327434,-0.600579 1.327434,-1.338311 c 0,-0.742565 -0.591514,-1.33831 -1.327434,-1.33831 c -0.733504,0 -1.330457,0.59514 -1.330457,1.33831 c 0,0.737732 0.596953,1.338311 1.330457,1.338311 z m -9.656381,0 c 0.732899,0 1.32683,-0.600579 1.32683,-1.338311 c 0,-0.742565 -0.593931,-1.33831 -1.32683,-1.33831 c -0.736525,0 -1.331061,0.59514 -1.331061,1.33831 c 6.04e-4,0.737732 0.592724,1.338311 1.331061,1.338311 z" id="path6058" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 25.998188,24.409736 l 0,1.590264 l -1.997497,0 l 0,-1.269433 l 0.998144,0 c 0.372794,0 0.717189,-0.119632 0.999353,-0.320831 z" id="path6038" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 10.1875,16.03125 c 0.732899,0 1.3125,0.601185 1.3125,1.34375 c 0,0.737732 -0.579601,1.34375 -1.3125,1.34375 c -0.738337,0 -1.343146,-0.606018 -1.34375,-1.34375 c 0,-0.74317 0.607225,-1.34375 1.34375,-1.34375 z M 11,11 c -0.432611,0 -0.803971,0.277848 -0.9375,0.6875 c 0,0 -0.807596,2.399996 -0.9375,2.78125 c -0.230201,0.236846 -0.844354,0.8125 -0.84375,0.8125 C 8.089717,15.465531 8,15.733546 8,16 l 0,3 c 0,0.551639 0.445341,1 1,1 l 2.03125,0 c 0,-0.482549 0.17439,-1.002768 0.59375,-1.40625 c 0.0029,-0.0028 -0.0026,-0.02875 0,-0.03125 c 0.0053,-0.005 0.02255,0.0082 0.03125,0 c 0.01731,-0.01633 0.03226,-0.03395 0.0625,-0.0625 c 0.06048,-0.0571 0.12906,-0.13335 0.21875,-0.21875 c 0.121577,-0.11576 0.240203,-0.210852 0.34375,-0.3125 c 0.196435,-0.580002 0.875,-2.59375 0.875,-2.59375 c 0.04476,-0.137321 0.115265,-0.25348 0.1875,-0.375 l -2.65625,0 l 0.78125,-3 l 7.0625,0 l 0.53125,2 l 1.65625,0 C 20.460535,13.223655 19.9375,11.6875 19.9375,11.6875 C 19.802158,11.278454 19.430193,11 19,11 l -8,0 z" id="path6071" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="M 8,20.40625 L 8,22 l 2,0 l 0,-1.28125 l -1,0 c -0.37642,0 -0.716629,-0.111301 -1,-0.3125 z" id="path6040" style="fill:darkaqua"/>\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<dl class="nm_dropDownMenu  nm_mapSelectorWrap nm_wrap" aria-expanded="false" aria-haspopup="true" aria-role="menu" aria-hidden="true" >\n\t\t\t\t    <dt class="nm_menuItemMapType" aria-role="menuitem">\n\t\t\t\t        <span class="nm_labelOpen nm_firstBG" aria-role="label" title="__i18n_ovi.service.map._t20__">__i18n_ovi.service.map._t17__<\!--<span class="nm_dropdown_arrow"></span>--\></span>\n\t\t\t\t        <span class="nm_labelClose"  aria-role="label">__i18n_ovi.service.map._t61__</span>\n\t\t\t\t    </dt>\n\t\t\t\t    <dd class="nm_normal nm_first" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t17__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_satellite" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t18__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_terrain" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t19__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_globe nm_last" aria-role="menuitemradio" tabindex="-1">\n                        <span class="nm_secondBG">__i18n_typeSelector.globe__</span>\n                        <span class="nm_icon">&#8984;</span>\n                    </dd>\n\t\t\t\t</dl>\n\t\t\t</ul>\n\t\t\t<\!-- StreetLevel START --\>\n            <div class="nm_streetLevelWrap nm_right nm_wrap nm_singleButton" aria-role="button" aria-pressed="false" aria-hidden="true">\n                <div class="nm_firstBG">\n                    <span class="nm_street_level_leave">\n                        __i18n_streetlevel.leave__\n                    </span>\n                </div>\n                <div class="nm_street_level_icon">\n                    <script type="CDATA" charset="street_level_normal">\n                        <![CDATA[\n                        <path\n                             d="m 18.404447,12.32586 c -0.64114,-1.317068 -1.724616,-1.858807 -2.340904,-2.137131 -0.621259,-0.2832926 -1.217669,-0.2435326 -1.27234,-0.2435326 -0.02485,0 -2.231562,0 -2.256412,0 -0.05467,0 -0.621259,-0.03977 -1.242518,0.2435326 -0.616288,0.278324 -1.6600041,0.820063 -2.3011441,2.137131 -0.457246,0.944313 -0.487066,2.748451 -0.492035,3.886596 -0.005,0.685871 0.586467,0.964195 0.949282,0.964195 0.367786,0.005 0.8548541,-0.303175 0.8548541,-0.984075 -0.005,-2.857791 0.939343,-2.733539 0.994014,-2.733539 v 8.866609 c 0,0.402574 0.377725,0.725629 0.889642,0.725629 0.472158,0 0.924433,-0.178923 0.924433,-0.725629 l 0.412517,-5.278217 c 0.05964,0.005 0.253473,0.005 0.308143,0 l 0.412517,5.278217 c 0,0.516887 0.467187,0.73557 0.964194,0.74054 0.457247,0 0.839942,-0.337966 0.839942,-0.74054 v -8.866609 c 0.05964,0 0.944314,-0.08946 0.959224,2.773299 0,0.566589 0.526828,0.954254 0.889642,0.949284 0.367786,0 0.989045,-0.283293 0.989045,-0.929402 0.005,-1.138147 -0.02485,-2.982045 -0.482096,-3.926358 z"\n                             id="path3125"\n                             style="fill:#333333" \n                             transform="translate(3,3)"/>\n                          <path\n                             clip-rule="evenodd"\n                             d="m 16.267316,6.3170443 c 0,1.4164701 -1.143117,2.5645561 -2.564558,2.5645561 -1.416471,0 -2.564557,-1.148086 -2.564557,-2.5645561 0,-1.4164705 1.153057,-2.5595866 2.569528,-2.5595866 1.41647,0 2.559587,1.1480857 2.559587,2.5595866 z"\n                             id="path3127"\n                             style="fill:#333333;fill-rule:evenodd"\n                             transform="translate(3,3)"/>\n                        />]]\>\n                    <\/script>\n                </div>\n                <div class="nm_street_level_icon_hover">\n                    <script type="CDATA" charset="street_level_hover">\n                     <![CDATA[\n                     <g fill="none" stroke="white">\n                        <path\n                         clip-rule="evenodd"\n                         d="m 19.226644,9.9210099 c 0,1.4150861 -1.14602,2.5611071 -2.561107,2.5611071 -1.415086,0 -2.561107,-1.146021 -2.561107,-2.5611071 0,-1.4150866 1.146021,-2.5611076 2.561107,-2.5611076 1.415087,0 2.561107,1.146021 2.561107,2.5611076 z"\n                         id="path3205"\n                         style="fill:#0099bb;fill-rule:evenodd" />\n                      <path\n                         d="m 12.041592,15.810561 c 0.886921,-1.54962 1.659239,-1.823668 2.306991,-2.092733 0.652733,-0.274049 1.669204,-0.199309 1.728995,-0.199309 0.0299,0 1.10616,0.01 1.519724,-0.01 0.518201,-0.02989 0.657716,0.005 1.185883,-0.03986 0.702561,-0.06478 2.04789,-0.632802 2.765398,-1.873495 0.373702,-0.652733 0.42353,-0.921799 0.697578,-1.230726 0.264084,-0.303945 0.712526,-0.5680283 1.190866,-0.318894 0.478339,0.249136 0.478339,0.832111 0.38865,1.131073 -0.154464,0.49827 -0.607889,1.554603 -0.906852,2.017993 -1.998062,3.059379 -3.796816,3.258686 -3.85661,3.258686 v 9.487061 c 0,0.38865 -0.318892,0.717509 -0.857023,0.717509 -0.498271,0 -0.966645,-0.323876 -0.966645,-0.717509 l -0.318892,-5.301592 c -0.05979,0.005 -0.36872,0.005 -0.428512,0 l -0.393634,5.301592 c 0,0.38865 -0.383667,0.717509 -0.906852,0.722492 -0.478339,0.005 -0.916816,-0.333842 -0.916816,-0.722492 v -8.894118 c -0.01993,0 -0.971627,0.01495 -0.971627,2.969688 0,0.353772 -0.104636,1.051349 -0.901868,1.051349 -0.782283,0 -1.036401,-0.722491 -1.031419,-1.101176 0.02991,-1.464914 0.08969,-3.11917 0.672665,-4.155572 z"\n                         id="path3207"\n                         style="fill:#0099bb" />\n                        </g>\n                        />]]\>\n                    <\/script>\n                </div>\n                <div class="nm_street_level_icon_pressed">\n                    <script type="CDATA" charset="street_level_pressed">\n                    <![CDATA[\n                     <path\n                             d="m 18.404447,12.32586 c -0.64114,-1.317068 -1.724616,-1.858807 -2.340904,-2.137131 -0.621259,-0.2832926 -1.217669,-0.2435326 -1.27234,-0.2435326 -0.02485,0 -2.231562,0 -2.256412,0 -0.05467,0 -0.621259,-0.03977 -1.242518,0.2435326 -0.616288,0.278324 -1.6600041,0.820063 -2.3011441,2.137131 -0.457246,0.944313 -0.487066,2.748451 -0.492035,3.886596 -0.005,0.685871 0.586467,0.964195 0.949282,0.964195 0.367786,0.005 0.8548541,-0.303175 0.8548541,-0.984075 -0.005,-2.857791 0.939343,-2.733539 0.994014,-2.733539 v 8.866609 c 0,0.402574 0.377725,0.725629 0.889642,0.725629 0.472158,0 0.924433,-0.178923 0.924433,-0.725629 l 0.412517,-5.278217 c 0.05964,0.005 0.253473,0.005 0.308143,0 l 0.412517,5.278217 c 0,0.516887 0.467187,0.73557 0.964194,0.74054 0.457247,0 0.839942,-0.337966 0.839942,-0.74054 v -8.866609 c 0.05964,0 0.944314,-0.08946 0.959224,2.773299 0,0.566589 0.526828,0.954254 0.889642,0.949284 0.367786,0 0.989045,-0.283293 0.989045,-0.929402 0.005,-1.138147 -0.02485,-2.982045 -0.482096,-3.926358 z"\n                             id="path3125"\n                             style="fill:#ffffff" \n                             transform="translate(3,3)"/>\n                          <path\n                             clip-rule="evenodd"\n                             d="m 16.267316,6.3170443 c 0,1.4164701 -1.143117,2.5645561 -2.564558,2.5645561 -1.416471,0 -2.564557,-1.148086 -2.564557,-2.5645561 0,-1.4164705 1.153057,-2.5595866 2.569528,-2.5595866 1.41647,0 2.559587,1.1480857 2.559587,2.5595866 z"\n                             id="path3127"\n                             style="fill:#ffffff;fill-rule:evenodd"\n                             transform="translate(3,3)"/>\n                    />]]\>\n                    <\/script>\n                </div>\n            </div>\n            <\!-- StreetLevel END --\>\n\t\t\t\n\t\t\t<\!-- MapSettings END --\>\n\t\t</div>\n\t\t<\!-- Positioning END --\>\n\t\t\n\t\t<\!-- Zoombar START --\>\n\t\t<div class="nm_arrangeableAnchor nm_middle">\n\t\t\t<div class="nm_zoomWrap nm_wrap nm_right" aria-expanded="true" aria-hidden="true" >\n\t\t\t\t<\!-- Aria-expanded states set to true are required here (both above and below) as measurements are taken based on this state at initialisation--\>\n\t\t\t\t\t<div class="nm_zoomButtons nm_buttonPair">\n\t\t\t\t\t\t<div class="nm_firstBG nm_background">&nbsp;</div>\n\t\t\t\t\t\t<div class="nm_zoomIn" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA"  charset="zoomin">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<path fill="darkaqua" fill-rule="nonzero" style="enable-background:accumulate;color:#000000;" d="M16,4.875v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2z"/>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm_zoomOut" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA" charset="zoomout">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<g transform="translate(0,-1018.3622)" id="layer1" style="display:inline">\n\t\t\t\t\t\t\t\t\t\t<rect width="2" height="8" x="517.16022" y="208.91977" transform="matrix(0,1,-1,0,229.9198,523.20198)" id="rect6052" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="nm_zoomLevels" aria-expanded="false" aria-hidden="false" role="application" aria-valuemin="0" aria-valuemax="20" aria-valuenow="10">\n\t\t\t\t\t\t<div class="nm_zoomSlider" aria-role="button">\n\t\t\t\t\t\t\t<div class="nm_secondBG nm_background"></div>\n\t\t\t\t\t\t\t<div class="nm_zoomSliderTrack">\n\t\t\t\t\t\t\t\t<div aria-role="button" class="nm_zoomSliderKnob" title="__i18n_ovi.service.map._t42__" draggable="true" unselectable="on">\n\t\t\t\t\t\t\t\t\t<span class="nm_thirdBG"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<\!-- Dynamically created according to map zoom levels--\>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class="nm_zoomBookmarks nm_notouch" aria-role="listbox">\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_street" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class=" nm_secondBG nm_background">__i18n_ovi.service.map._t46__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_city" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t45__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_state" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t44__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_country" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t43__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- zoomBar END --\>\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_bottom">\n\t\t\t<\!-- Overview START --\>\n\t\t\t<div class="nm_overviewWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_overviewMap" unselectable="on"></div>\n\t\t\t\t<div class="nm_overviewButton nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="overview">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t<path d="m 10,12 l 0,10 l 6,0 l 0,-6 l 8,0 l 0,-4 z" id="rect3119" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Overview END --\>\n\n\t\t\t<\!-- Distance Measurement START --\>\n\t\t\t<div class="nm_rulerWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_rulerButton_icon_normal nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="ruler_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_rulerButton_icon_pressed nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="ruler_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:darkaqua;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<\!-- Distance Measurement END --\>\n\n\t\t\t<\!-- Zoom rectangle START --\>\n\t\t\t<div class="nm_zoomRectWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_zoomRectButton_icon_normal nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="zoomRect_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_zoomRectButton_icon_pressed nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="zoomRect_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:darkaqua;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<\!-- Zoom rectangle END --\>\n\n\t\t\t<\!-- Scalebar START --\>\n\t\t\t<\!--<div class="nm_scalebarAnchor" aria-hidden="true">--\>\n\t\t\t\t<div class="nm_scalebarWrap nm_wrap nm_metric nm_right"  aria-hidden="true">\n\t\t\t\t\t<div class="nm_scalebarTemplate" aria-role="button">\n\t\t\t\t\t\t<div class="nm_scaleBarExpandableElement"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="nm_scalebarUnitinfo" aria-hidden="true">__i18n_ovi.service.map._t26__</span>\n\t\t\t\t\t<\!--Style definition below is here because it reset everything and in CSS file should be easily changed without any warning.--\>\n\t\t\t\t\t<span class="nm_scalebarTextTester" style="text-align: left; font-weight: normal; font-size: 10px; font-family: Arial; font-style: normal; font-variant: normal; text-transform: none; text-decoration: none; visibility: hidden;"></span>\n\t\t\t\t</div>\n\t\t\t<\!--</div>--\>\n\t\t\t<\!-- Scalebar END --\>\n\t\t</div>\n\t\t\n\t\t<\!-- RightClick menu START --\>\n\t\t<div class="nm_rcMenu nm_wrap" aria-hidden="true" aria-role="menu">\n\t\t\t<div class="nm_rcMenuItem"></div>\n\t\t\t<div class="nm_rcMenuSeparator"></div>\n\t\t\t<div class="nm_rcMenuPin"></div>\n\t\t</div>\n\t\t<\!-- RightClick menu END --\>\n\t</body>\n</html>';
ovi.provide("nokia.maps.resources.ui.nokia_generic.css");nokia.maps.resources.ui.nokia_generic.css='.ovi_mp_controls{font-family:Arial,Helvetica,sans-serif;}.ovi_mp_controls ul,.ovi_mp_controls li,.ovi_mp_controls dl,.ovi_mp_controls dd{padding:0;margin:0;list-style:none;font-size:1em;}.nm_crnode a:hover{color:#0BD!important;}.nm_hidden,.ovi_mp_controls [aria-hidden="true"],.nm_infoBubble[aria-hidden="true"],.nm_rcMenu[aria-hidden="true"]{display:none!important;}.nm_conceal{visibility:hidden;}.ovi_mp_controls [aria-role="button"],.ovi_mp_controls [aria-role="option"],.ovi_mp_controls [aria-role="menuitem"],.ovi_mp_controls [aria-role="menuitemradio"]{min-width:3.4em;min-height:3.4em;cursor:pointer;}[aria-role="menuitemradio"] .nm_firstBG{width:3.2em;height:2.6em;margin:.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_firstBG{margin:.3em 0;}.ovi_mp_controls [aria-disabled="true"]{cursor:default;}.nm_gfx{position:absolute;top:0;}.nm_wrap{-webkit-transform:scale(1);}.nm_hover .nm_wrap{opacity:1;}.nm_wrap:hover,.nm_wrap:focus,.nm_wrap[aria-expanded="true"],[aria-role="menuitemradio"]:focus{outline:none;opacity:1;}.nm_wrap:hover .nm_firstBG,.nm_wrap:focus .nm_firstBG{border-color:#FFF;opacity:1;outline:none;}.nm_firstBG{color:#000F1A;border:.1em solid #E6E6E6;background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-webkit-linear-gradient(top,#ECECEC,#CCC);background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-ms-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);background-image:linear-gradient(top,#ECECEC,#CCC);background-color:#DBDBDB;-webkit-border-radius:.3em;-moz-border-radius:.3em;-o-border-radius:.3em;-ms-border-radius:.3em;border-radius:.3em;border-radius:0 \\0/;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');}[aria-disabled="true"] .nm_firstBG,.nm_wrap[aria-disabled="true"]:hover .nm_firstBG,.nm_wrap[aria-disabled="true"]:active .nm_firstBG{background-image:none;background-color:#BFBFBF;filter:none;border-color:#E6E6E6;}.nm_firstBG:hover{color:#0BD;}.nm_notouch .nm_firstBG:focus,.nm_notouch .nm_secondBG:focus,.nm_notouch .nm_secondBG:hover{background-color:#0BD;color:white;}.nm_secondBG{color:#E6E6E6;background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;white-space:nowrap;}.nm_hover [aria-role="button"]:hover .nm_secondBG,.nm_hover [aria-role="menuitem"]:hover .nm_secondBG,.nm_hover [aria-role="menuitemradio"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="button"]:active .nm_secondBG,.ovi_mp_controls [aria-role="option"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:active .nm_secondBG,.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:hover .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:focus .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:hover .nm_secondBG{background-color:#0BD;color:#FFF;}[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG{font-weight:bold;}.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG{border:.1em solid #fff;margin:-0.1em;}.ovi_mp_controls [aria-role="button"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:hover .nm_secondBG{background-color:#0BD;}.nm_thirdBG{background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');background-color:#DBDBDB;}[aria-disabled="true"] .nm_thirdBG{background-image:none;background-color:#BFBFBF;}.ovi_mp_controls .nm_wrapperBG{background-color:#000F1A;-webkit-border-radius:.5em;-moz-border-radius:.5em;-o-border-radius:.5em;border-radius:.5em;padding:0 .7em;}.nm_wrapperBG li{border-bottom:.1em solid #4E575F;display:block;height:3.2em;}.nm_wrapperBG li:first-child{visibility:hidden;}.nm_contentBG{background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_singleButton{float:inherit;}.nm_singleButton .nm_firstBG{position:relative;width:2.6em;height:2.6em;margin:.3em;}.nm_buttonPair{position:relative;width:1.6em;height:6.8em;overflow:hidden;}.nm_buttonPair .nm_firstBG{width:1.4em;height:6.6em;margin:0 auto;}.nm_buttonPair .nm_zoomIn{margin-top:-6.6em;}.nm_buttonPair .nm_zoomOut{position:absolute;}[aria-expanded="true"] .nm_labelOpen{display:none!important;}[aria-expanded="false"] .nm_labelClose{display:none!important;}[aria-role="menuitemradio"] .nm_gfx{margin:-0.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_gfx{margin:0;}.nm_arrangeableAnchor{position:absolute;width:100%;height:0;}.nm_arrangeableAnchor.nm_top{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;top:0;}.nm_adbar_top .nm_arrangeableAnchor.nm_top{top:28px;}.nm_arrangeableAnchor.nm_middle{top:50%;}.nm_arrangeableAnchor.nm_bottom{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;bottom:0;}.nm_adbar_bottom .nm_arrangeableAnchor.nm_bottom{bottom:28px;}.nm_bottom .nm_wrap{margin-top:-3.4em;}.nm_bottom .nm_gfx{top:auto;bottom:0;}.nm_left{float:left;}.nm_center{margin-left:50%;float:left;}.nm_right{float:right;}.nm_cover{position:absolute;top:0;width:3.4em;height:3.4em;}.nm_zoomHorAnchor{position:absolute;width:100%;top:50%;height:0;}.nm_zoomButtons{position:absolute;top:-3.4em;right:0;width:3.4em;-moz-transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transition:top 200ms linear,right 200ms linear,height 200ms linear;-o-transition:top 200ms linear,right 200ms linear,height 200ms linear;transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transform:scale(1);}.nm_zoomButtons .nm_firstBG{-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons{width:1.7em;height:3.4em;right:-0.2em;top:-1.7em;}.nm_zoomWrap[aria-expanded="false"].nm_left .nm_zoomButtons{left:-0.2em;right:auto;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons{top:-1.8em;height:3.6em;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons .nm_firstBG,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons .nm_firstBG{height:3.6em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons .nm_firstBG{width:.7em;height:3.4em;border:none;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons [aria-role="button"]{min-height:1.7em;min-width:1.7em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomIn{margin-top:-3.4em;}.nm_zoomLevels{position:absolute;display:none;right:2.5em;width:3.4em;-moz-transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transition:right 200ms ease-out,margin-top 200ms linear;-o-transition:right 200ms ease-out,margin-top 200ms linear;transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transform:scale(1);}.nm_zoomWrap[aria-expanded="false"] .nm_zoomLevels{right:0;margin-top:-1.7em;}.nm_zoomLevels[aria-expanded="false"]{margin-top:-3.3em;}.nm_zoomLevels[aria-expanded="true"]{margin-top:-6.7em;}.nm_zoomSlider{-webkit-transform:scale(1);}.nm_zoomSlider .nm_secondBG{position:relative;margin:0 auto;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_secondBG{width:.4em;height:3.3em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"] .nm_secondBG{width:.6em;height:6.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"]:active .nm_secondBG,.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"].nm_active .nm_secondBG{height:6.392em;width:.564em;margin-top:.3em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSlider .nm_secondBG{width:1.2em;height:13.4em;}.nm_zoomLevels[aria-expanded="true"]:active .nm_secondBG,.nm_zoomLevels[aria-expanded="true"].nm_active .nm_secondBG{width:1.176em;height:13.132em;margin-top:.134em;}.nm_zoomSliderTrack{position:absolute;left:0;width:100%;background-color:transparent;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomSliderTrack{top:.2em;height:2.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderTrack{top:.4em;height:5.8em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderTrack{height:11.3em;top:1.05em;}.nm_zoomSliderKnob{position:absolute;margin-top:-1.7em;margin-left:0;cursor:pointer;}.nm_zoomSliderKnob[aria-disabled="true"]{width:.4em;height:.2em;min-width:.4em;min-height:.2em;left:1.5em;margin-top:-0.1em;}.nm_zoomSliderKnob .nm_thirdBG{position:absolute;width:.2em;height:.4em;top:0;left:.1em;-webkit-border-radius:.1em;-moz-border-radius:.1em;-o-border-radius:.1em;border-radius:.1em;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob[aria-disabled="true"]{margin-top:-0.3em;left:1.4em;min-width:0;min-height:0;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.4em;height:.8em;top:0;left:.1em;-webkit-border-radius:.2em;-moz-border-radius:.2em;-o-border-radius:.2em;border-radius:.2em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.8em;height:1.8em;top:.8em;left:1.3em;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob:active .nm_thirdBG{width:.784em;height:1.72em;background-color:red;}.nm_zoomBookmarks{position:absolute;top:0;list-style:none;margin:0;padding:0;-webkit-transform:scale(1);}.nm_right .nm_zoomBookmarks{text-align:right;right:3.4em;}.nm_zoomLevels[aria-expanded="false"] .nm_zoomBookmarks{display:none;}.nm_zoomBookmark{padding:0;line-height:3.4em;}.nm_zoomBookmark .nm_secondBG{width:100%;padding:.1em .6em;white-space:pre;}.nm_left .nm_zoomButtons{left:0;right:auto;}.nm_left .nm_zoomLevels{left:0;right:auto;margin-left:2.5em;}.nm_left .nm_zoomBookmarks{margin-left:3.4em;}.nm_left[aria-expanded="false"] .nm_zoomLevels{margin-left:0!important;margin-top:-1.6em!important;}.nm_positioningWrap{width:3.4em;overflow:hidden;}.nm_positioningWrap[aria-pressed="true"] .nm_pos_icon_normal{display:none;}.nm_positioningWrap[aria-pressed="false"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap[aria-busy="false"] .nm_pos_icon_busy{display:none;}.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_normal,.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap:active .nm_firstBG{background-image:none;filter:none;background-color:#333;}.nm_infoBubble{cursor:default;position:absolute;left:400px;top:100px;white-space:normal;outline:none;margin:8px;color:white;-webkit-transform:scale(1);box-shadow:0 0 1px #ccc;z-index:100;}.nm_bubble{font-family:arial,helvetica,sans;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_infoBubble .nm_bubble_bg{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;}.nm_noborder{border:0!important;}.nm_bubble_lp0{padding-left:0!important;}.nm_bubble_content{padding:1.5em;font-size:1em;}.nm_bubble_sidelinks{right:1.5em;position:absolute;text-align:right;}.nm_bubble_sidelinks a{color:#595;text-decoration:none;}.nm_hover .nm_bubble_sidelinks a:hover{text-decoration:underline;}.nm_bubble_content a,.nm_bubble_content a:visited{color:white;}.nm_bubble_content p{margin:0 0 .5em 0;}.nm_bubble_controls{position:absolute;top:-0.3em;right:.3em;}.nm_bubble_control_close{cursor:pointer;}.nm_bubble_controls a,.nm_bubble_control_close{color:#999;text-decoration:none;font-size:2em;}.nm_bubble_linksbar{display:none;margin:0 1.5em;padding:1.0em 0 1.0em 0;border-top:.1em solid #d2d2d2;}.nm_bubble_linksbar a{text-decoration:none;color:#595;padding:0 .7em 0 .5em;border-right:.1em solid #cfcfcf;}.nm_hover .nm_bubble_linksbar a:hover{text-decoration:underline;}.nm_bubble_tail{position:absolute;z-index:-10;}.nm_right[aria-role="menubar"]{margin-right:.3em;}.nm_left[aria-role="menubar"]{margin-left:.3em;}.ovi_mp_controls .nm_mapSelectorWrap{position:relative;}.nm_ie78 .nm_mapSelectorWrap{position:relative;float:right;}.nm_mapSettingsWrap{-webkit-transform:scale(1);}.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG{height:2.8em;margin-top:.3em;margin-bottom:-3.1em;}.nm_openVertSelector[aria-role="menubar"] .nm_wrapperBG{height:13.5em;margin-bottom:-13.8em;}.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_wrapperBG{height:16.5em;margin-bottom:-16.8em;}.nm_openVertSelector[aria-role="menubar"] .nm_dropDownMenu .nm_globe,.nm_openVertSelector[aria-role="menubar"] .nm_wrapperBG .nm_3DBG,.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG li,.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG li.nm_3DBG{display:none;visibility:hidden;}.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_dropDownMenu .nm_globe,.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_wrapperBG .nm_3DBG{display:block;visibility:visible;}[aria-role="menubar"][aria-expanded="false"] .nm_wrapperBG{display:none;visibility:hidden;}[aria-role="menubar"] [aria-role="menuitem"] .nm_firstBG,[aria-role="menubar"] [aria-role="menuitemradio"] .nm_firstBG{-webkit-border-radius:0;-moz-border-radius:0;-o-border-radius:0;border-radius:0;}.nm_left[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-right-radius:.4em;-webkit-border-bottom-right-radius:.4em;-moz-border-radius-topright:.4em;-moz-border-radius-bottomright:.4em;-o-border-top-right-radius:.4em;-o-border-bottom-right-radius:.4em;border-top-right-radius:.4em;border-bottom-right-radius:.4em;border-radius:0 \\0/;}.nm_left[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-left-radius:.4em;-webkit-border-bottom-left-radius:.4em;-moz-border-radius-topleft:.4em;-moz-border-radius-bottomleft:.4em;-o-border-top-left-radius:.4em;-o-border-bottom-left-radius:.4em;border-top-left-radius:.4em;border-bottom-left-radius:.4em;border-radius:0 \\0/;}.nm_right>[aria-role="menu"],.nm_right>[aria-role="menuitem"],.nm_right>[aria-role="menuitemradio"]{float:right;}.nm_left>[aria-role="menu"],.nm_left>[aria-role="menuitem"],.nm_left>[aria-role="menuitemradio"]{float:left;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu{height:auto;margin:0;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu.nm_layout_horizontal{display:inline;float:inherit;height:auto;background:none;margin:0;}.nm_left .nm_ie78.nm_dropDownMenu{float:left;}.nm_right .nm_ie78.nm_dropDownMenu{float:right;}.nm_left [aria-role="menu"].nm_layout_horizontal dt{float:left;text-align:left;}.nm_right [aria-role="menu"].nm_layout_horizontal dt{float:right;text-align:right;}.nm_dropDownMenu{margin:0;}.nm_dropDownMenu dt .nm_firstBG{display:block;line-height:2.6em;margin:.3em 0;padding:0 1em;font-weight:bold;min-height:2.6em;}.nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{display:inline;float:left;}.nm_right .nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{float:right;}.nm_dropDownMenu[aria-expanded="false"] [aria-role="menuitemradio"]{display:none;}.nm_dropDownMenu dd{line-height:3.4em;margin:0 .6em;white-space:nowrap;}.nm_ie78 .nm_layout_horizontal.nm_dropDownMenu dd{margin:0 .6em;}.nm_mapSelectorWrap.nm_layout_horizontal .nm_dropDownMenu dd{border-bottom:none;}.nm_dropDownMenu dd.nm_last{border-bottom:none;}.nm_dropDownMenu dd .nm_secondBG{display:inline;padding:.5em 1em;margin:0;}.nm_dropDownMenu dd .nm_icon{display:none;position:absolute;left:1.3em;color:white;margin:.6em 0 0;width:2.3em;height:2.3em;background-color:orange;*margin:0;}.nm_right .nm_icon{position:relative;float:left;left:0;}.nm_dropDownMenu .nm_labelClose{color:#00BBDC;font-weight:bold;line-height:3.4em;padding:0 1.2em;}.nm_dropDownMenu[aria-expanded="false"]{background:none;}.nm_dropdown_arrow{width:0;height:0;border:0;border-top:.4em solid #333;border-right:.4em solid transparent;border-left:.4em solid transparent;display:inline-block;padding:.1em 0 0 0;margin:0 .4em 0;}.nm_layout_horizontal .nm_dropdown_arrow{border-right:.3em solid #333;border-top:.3em solid transparent;border-bottom:.3em solid transparent;border-left:0;padding:0;}.nm_layout_horizontal .nm_dropDownMenu:focus .nm_dropdown_arrow,.nm_layout_horizontal .nm_dropDownMenu:hover .nm_dropdown_arrow{border-right-color:#00BBDC;}.nm_rcMenu{font-family:arial,helvetica,sans;padding-bottom:8px;background-color:#000F1A;zoom:1;position:absolute;z-index:3;width:158px;-moz-border-radius:.4em;-webkit-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_rcMenu,.nm_rcMenu span{color:#fff;font-weight:normal;}.nm_rcMenu .nm_rcMenuItemHeader{zoom:1;padding:10px!important;-moz-border-radius-topleft:.4em;-moz-border-radius-topright:.4em;-webkit-border-top-left-radius:.4em;-webkit-border-top-right-radius:.4em;-o-border-top-left-radius:.4em;-o-border-top-right-radius:.4em;border-top-left-radius:.4em;border-top-right-radius:.4em;color:#fff!important;}.nm_rcMenu .nm_rcMenuItem.top{margin-top:8px;}.nm_rcMenu .nm_rcMenuItem{overflow:hidden;text-align:left;padding:1px 10px 0 10px;cursor:default;}.clickable:hover,.nm_rcMenu.nm_hover .clickable:hover{background-color:#00BBDC;zoom:1;color:#FFF;cursor:pointer;color:#888;}.nm_rcMenu .nm_rcMenuItem.clickable{color:#fff;}.nm_rcMenu .nm_rcMenuSeparator{height:0;margin:8px 10px;border-top:1px solid #333;border-bottom:1px solid #666;line-height:0;font-size:0;}.nm_rcMenu .nm_rcMenuSeparatorHeader{margin-left:0;margin-right:0;margin-top:0;line-height:0;}.nm_rcMenuPin{width:32px;height:32px;background:url("assets/ovi/mapsapi/ui/images/ovi_web/controls.png") no-repeat -76px -60px;position:absolute;}.nm_overviewAnchor{margin:.4em;margin-right:0;float:right;margin-top:-29px;}.nm_overviewWrap,.nm_rulerWrap,.nm_zoomRectWrap{margin-bottom:.3em;overflow:hidden;bottom:inherit;width:3.4em;height:3.4em;-webkit-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-moz-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-o-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-ms-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;}.nm_overviewWrap.anim{width:300px;height:200px;}.nm_overviewMap{width:0;height:0;border:.1em solid #333;background-color:#EEE;}.nm_overviewButton,.nm_rulerButton_icon_normal,.nm_rulerButton_icon_pressed,.nm_zoomRectButton_icon_normal,.nm_zoomRectButton_icon_pressed{position:absolute;float:none;bottom:0;}.nm_left .nm_overviewButton{left:0;}.nm_right .nm_overviewButton{right:0;}.nm_ie78 .nm_overviewButton .nm_gfx,.nm_ie78 .nm_rulerButton_icon_normal .nm_gfx,.nm_ie78 .nm_rulerButton_icon_pressed .nm_gfx,.nm_ie78 .nm_zoomRectButton_icon_normal .nm_gfx,.nm_ie78 .nm_zoomRectButton_icon_pressed .nm_gfx{top:0;}.nm_overviewWrap[aria-expanded="false"] .nm_overviewMap{display:none;}.nm_bottom .nm_scalebarTemplate .nm_gfx{margin-top:1.3em;bottom:auto;position:static;}.nm_rulerWrap,.nm_zoomRectWrap{margin-bottom:.3em;}.nm_rulerWrap[aria-pressed="true"] .nm_rulerButton_icon_normal,.nm_zoomRectWrap[aria-pressed="true"] .nm_zoomRectButton_icon_normal{display:none;}.nm_rulerWrap[aria-pressed="false"] .nm_rulerButton_icon_pressed,.nm_zoomRectWrap[aria-pressed="false"] .nm_zoomRectButton_icon_pressed{display:none;}.nm_streetLevelWrap[aria-pressed="true"] .nm_firstBG{background-color:#09b;background-image:none;}.nm_streetLevelWrap[aria-hidden="true"],.nm_streetLevelWrap .nm_street_level_leave,.nm_streetLevelWrap[aria-pressed="false"] .nm_street_level_icon_pressed,.nm_streetLevelWrap[aria-pressed="false"] .nm_street_level_icon_hover,.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon,.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon_hover,.nm_streetLevelWrap[aria-pressed="true"]:hover .nm_street_level_icon_hover,.nm_streetLevelWrap:hover .nm_street_level_icon,.nm_streetLevelWrap.nm_street_level_running .nm_street_level_icon,.nm_streetLevelWrap.nm_street_level_running:hover .nm_street_level_icon_hover{display:none;}.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon_pressed,.nm_streetLevelWrap:hover .nm_street_level_icon_hover,.nm_streetLevelWrap.nm_street_level_running .nm_street_level_leave{display:block;}.nm_streetLevelWrap .nm_street_level_leave{font-weight:bold;margin:6px 0;}.nm_streetLevelWrap.nm_street_level_running .nm_firstBG{width:auto;padding:0 5px;}.nm_miniman,.nm_miniman_point{display:none;width:30px;background-image:url(\'assets/ovi/mapsapi/ui/images/panorama/miniman.png\');position:absolute;pointer-events:none;}.nm_miniman{background-position:0 -37px;height:38px;width:30px;z-index:1000;}.nm_miniman.nm_miniman_moving{background-position:0 0;}.nm_miniman.nm_is_covered{background-position:0 -75px;}.nm_miniman_point{height:14px;background-position:0 -134px;z-index:999;}.nm_miniman_point.nm_miniman_point_animate{transition:all .5s ease-out;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;-ms-transition:all .5s ease-out;}';
(function(d){function k(a){var b=u[a];b||g.c("No valid WAI-ARIA name: "+a);return b}var h=d.ui.common,c=d.ui.nokia_generic,b=d.gfx,g=d.util,a=d.dom,e=a.Page,l=d.dom.EventTarget,f=a.ti,p=h.GfxTemplate,m=h.ColorSet,h=h.ColorScheme,r=d.ui.AbstractUIComponent,q=a.contains,y=ovi.bind,s=ovi.dom.addClass,u={disabled:"aria-disabled",expanded:"aria-expanded",hidden:"aria-hidden",pressed:"aria-pressed",selected:"aria-selected",checked:"aria-checked",valuenow:"aria-valuenow",valuemax:"aria-valuemax",valuemin:"aria-valuemin",
busy:"aria-BUSY",role:"aria-role"},w={},v=e.browser.msie,x=!!(e.browser.msie&&e.browser.version<9),z=e.browser.touch,A=z?"touch":"mouse",B=z?"tap":"click",D=z?"dbltap":"dblclick",E=A+(z?"start":"down"),G=A+(z?"end":"up"),N=A+"move",Q=A+"enter",X=A+"leave",J=A+"over";A+="out";var C=e.browser.mobile,H=new b.Painter.defaultPainter,e=new m({background:"#fff0",border:"#fff0",stroke:"#333",fill:"#333",text:"#333"}),ba=new h({normal:e,disable:new m({stroke:"#999",fill:"#999",text:"#999"},e),focus:new m({stroke:"#0BD",
fill:"#0BD",text:"#0BD"},e),active:new m({stroke:"#0BD",fill:"#0BD",text:"#0BD"},e)}),S=c.UIComponent=new ovi.Class({Extends:d.ui.UIComponent,initialize:function(a){var b=this;b.C=y(b,b.C);b.Qg=y(b,b.Qg);b.G=y(b,b.G);b._super(a);b.xe=["nm_draggable","nm_dragging","nm_pointer","nm_wait"];b.cc=[];b.eo=[];b.F=[];b.qi=[];b.he=C?1.5:1;b.we="vertical";b.bb=ovi.bind(b,b.bb);b.Wi=ovi.bind(b,b.Wi);b.Qp=function(){b.wj()}},Statics:{CSS_CONCEAL:"nm_conceal",EVENT_CLICK:B,EVENT_DBLCLICK:D,EVENT_LONGPRESS:"longpress",
EVENT_DOWN:E,EVENT_UP:G,EVENT_MOVE:N,EVENT_ENTER:Q,EVENT_LEAVE:X,EVENT_OUT:A,EVENT_OVER:J,EVENT_DRAGSTART:"dragstart",EVENT_DRAG:"drag",EVENT_DRAGEND:"dragend",EVENT_DROP:"drop",EVENT_FOCUS:"focus",EVENT_BLUR:"blur",EVENT_KEYDOWN:"keydown",LAYOUT_HORIZONTAL:"horizontal",LAYOUT_VERTICAL:"vertical",CSS_CLASS_PREFIX:"nm_",CSS_GFX:"nm_gfx"},attach:function(a){this._super(a);C&&s(this.node,"nm_hover");if(!x&&!this.isCloning)this.node=l(this.node),this.node.addListener(S.EVENT_KEYDOWN,this.bb),this.node.addListener(S.EVENT_BLUR,
this.Wi),this.node.setAttribute("tabindex",0)},detach:function(a){!x&&!this.isCloning&&(this.node.removeListener(S.EVENT_KEYDOWN,this.bb),this.node.removeListener(S.EVENT_BLUR,this.Wi));this.dg();this._super(a)},getTemplate:function(){var a=this.mapDisplay,b;if(!a.$ui)a.$ui=r.renderTemplate(a,nokia.maps.resources.ui.nokia_generic.html,this.om(nokia.maps.resources.ui.nokia_generic.css,d.loadPath,/url\([\"\']?((\.\.\/)*[a-zA-Z0-9\/\-\_]*[\.][a-zA-Z0-9]{3,})[\"\']?\)/gi)),b=this.getRootNode(),b.style.cssText+=
";font-size:"+this.he+"em;",b=b.parentNode.parentNode,b.style.cssText+=";font-size:10px !important;",x&&s(b,"nm_ie78");return a.$ui},Am:function(a){this.Fi?this.ld(a):(s(this.mapDisplay.P,a),this.Va(a))},setCursorDraggable:function(){this.Am("nm_draggable")},setCursorPointer:function(){this.Am("nm_pointer")},setCursorWait:function(){this.Am("nm_wait")},setCursorDefault:function(){this.Fi=0;this.Nf();this.cc.length?this.Bm():this.Va()},setCursorDragging:function(){this.Fi=1;s(this.mapDisplay.P,"nm_dragging");
this.Va("nm_dragging");this.ld("nm_draggable");this.mi=setTimeout(this.Qp,1E3)},keepCursorDragging:function(){if(!this.Fi)this.setCursorDragging(),this.Nf(),this.mi=setTimeout(this.Qp,500)},ld:function(a){this.cc.push(a)},Bm:function(){var a=this.cc.pop();s(this.mapDisplay.P,a);this.Va(a);this.cc=[]},Va:function(a){for(var b=this.xe.length,c=this.mapDisplay.P,e;b--;)(e=this.xe[b])!==a&&ovi.dom.removeClass(c,e)},bb:function(){},Wi:function(){},xp:z?function(a){var b=a.currentTarget,c=this.qi;c[c.length-
1]!==b&&this.qi.push(b);a&&a.preventDefault();this.setCssActive(b,!0)}:g.J,Ct:z?function(){var a;if(a=this.qi[0])this.qi.shift(),this.setCssActive(a,!1)}:g.J,setCssActive:function(a,b){a&&ovi.dom[b?"addClass":"removeClass"](a,"nm_active")},wj:function(){this.Fi=0;this.Va()},Nf:function(){if(this.mi)clearTimeout(this.mi),this.mi=0},show:function(){this.setAria("hidden",!1)},hide:function(){this.setAria("hidden",!0)},showTooltip:function(a,b){var e=this.mapDisplay.getComponentById("Tooltip");(e||this.mapDisplay.components.add(e=
new c.TooltipComponent))&&e.addTooltip(a,b)},hideTooltip:function(){var a=this.mapDisplay.getComponentById("Tooltip");a&&a.removeTooltip()},hiddenSetter:function(a){this.node&&this.node.setAttribute("aria-hidden",!!a);return a},Pm:function(a){a.preventDefault();a.stopPropagation()},getAria:function(a,b){var c;c=(b||this.node).getAttribute(k(a));return c==="true"||(c?c==="false"?!1:isNaN(c)&&c||+c:null)},hasAria:function(a,b){return this.getAria(a,b)!==null},hasAriaValue:function(a,b,c){return this.getAria(a,
c)===b},setAria:function(a,b,c){(c||this.node).setAttribute(k(a),b)},conceal:function(){this.set("conceal",!0)},reveal:function(){this.set("conceal",!1)},concealSetter:function(a){this.node&&ovi.dom[a?"addClass":"removeClass"](this.node,"nm_conceal");return!!a},isConcealed:function(a){return ovi.dom.hasClass(a||this.node,"nm_conceal")},Kv:function(){ovi.dom.toggleClass(this.node,"nm_conceal")},rv:function(){for(var a=this.eo,b=a.length;b--;)if(this.getAria("expanded",a[b]))break;return b+1},Hv:function(){for(var a=
0,b;b=arguments[a++];)this.eo.push(b)},Hu:g.J,layoutHorizontal:function(){this.we="horizontal";this.ca&&s(this.ca,"nm_layout_horizontal")},layoutVertical:function(){this.we="vertical";this.ca&&ovi.dom.removeClass(this.ca,"nm_layout_horizontal")},triggerRedraw:v||C?function(a){var b=this,c=a||null;b.set("conceal",!0);setTimeout(function(){b.set("conceal",!1);c&&c.apply(b,[])},50)}:g.J,jt:function(a){var b=this;return function(c,e,f){b.au(c,e,f,a)}},au:function(a,b,c,e){var f=a.parentNode,a=w[c]={gg:a,
aa:f,No:0,Om:{}},d,g;for(g in e)if((d=e[g])instanceof m)a.Om[g]={Fu:new p(/<svg/.test(b)?b:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='34' width='34'>"+b+"</svg>",d)};this.setGraphics(c,"normal",this.he,0,0);this.Sr(f)},Sr:x?function(a){var b=document.createElement("DIV");this.findElement("nm_gfx",a);b.className="nm_cover";a.appendChild(b)}:g.J,initGraphics:function(a,b){b=b==="default"?ba:b||{normal:new m};f(a,this.jt(b))},setGraphics:function(a,c,e,f,d){var e=e||this.he,f=f||
0,d=d&3||0,g=w[a],c=c?g.Om[c]:g.Om.normal,h=e+"_"+f+"_"+d,k=c[h];k||(k=c[h]=c.Fu.stencil(e,f,d));g.No===e?H.updateElement(k.getIDL(),g.gg):(c=g.gg.parentNode,c.replaceChild(f=(k=new b.GraphicsImage(k)).createElement(),g.gg),!c.$init&&this.getAria("role",c)==="button"&&this.gl(c,k.width,k.height),g.gg=f,g.No=e,f.className="nm_gfx nm_gfx_"+a);return g.gg},gl:!x?function(b,c,e,f){if(!b.$init){var d=b.style;c&&(d.width=c+"px");e&&(d.height=e+"px");f&&(d.position="relative");d.overflow="hidden";a.Qa(b,
"div",!1,"width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;background-color: white;")}b.$init=!0}:g.J,Sc:function(){for(var a=arguments.length,b;a--;)b=arguments[a],b.addListener(S.EVENT_OVER,this.C,!0),b.addListener(S.EVENT_OUT,this.G,!0),b.addListener(S.EVENT_DOWN,this.Qg,!0),b.addListener(S.EVENT_UP,z?this.G:this.C,!0)},dg:function(){for(var a=arguments.length,b;a--;)b=arguments[a],b.removeListener(S.EVENT_OVER,this.C,!0),b.removeListener(S.EVENT_DOWN,this.Qg,!0),b.removeListener(S.EVENT_UP,
z?this.G:this.C,!0),b.removeListener(S.EVENT_OUT,this.G,!0)},isMouseover:function(a){return!a.relatedTarget||q(a.currentTarget.ownerDocument.documentElement,a.relatedTarget)&&!q(a.currentTarget,a.relatedTarget)},isMouseout:function(a){return!a.relatedTarget||!q(a.currentTarget,a.relatedTarget)},C:function(a){this.isMouseover(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"focus")},G:function(a){this.isMouseout(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,
"normal")},Qg:function(a){(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"active")},getGraphicsIdByNode:function(a){for(var b in w)if(w[b]&&w[b].aa===a)return b},Cj:function(){var a=this.getAria("hidden",this.node),b=["menu","menuitem","menuitemradio"],c=this.node.parentNode.childNodes,e=c.length,f=b.length,d,g=[];d=ovi.dom;var h=d.addClass,k=d.removeClass;if(e==1)h(this.node,"nm_lastInGroup"),h(this.node,"nm_firstInGroup");else{for(;e--;)if(d=c[e],d.nodeType==1){if(d===this.node&&
!a)k(d,"nm_lastInGroup"),k(d,"nm_firstInGroup"),g.push(d);else for(;f--;)if(this.hasAriaValue("role",b[f],d)&&!this.getAria("hidden",d)){k(d,"nm_lastInGroup");k(d,"nm_firstInGroup");g.push(d);break}f=b.length}g.length>0&&(h(g[0],"nm_firstInGroup"),h(g.pop(),"nm_lastInGroup"))}}});d.ui.UIComponent=S})(nokia.maps);ovi.provide("nokia.maps.map.component.Overview");
(function(d){var k=Math,h=k.round,c=k.min;d.map.component.Overview=new ovi.Class({Extends:d.ui.UIComponent,initialize:function(b){this._super(b);this.q=this.PANORAMA|this.GLOBE|this.MAP_2D;this.Ha=ovi.bind(this,this.Ha)},d:"Overview",n:"0.0.0.1",attach:function(b){this._super(b);this.mainBgColor=b.kc.style.backgroundColor;b.addObserver("center",this.Fd,this);b.addObserver("zoomLevel",this.Hd,this);b.addListener("resizeend",this.Ha)},detach:function(b){b.removeObserver("center",this.Fd,this);b.removeObserver("zoomLevel",
this.Hd,this);b.removeListener("resizeend",this.Ha);this._super(b)},showMap:function(b){if(!this.miniMapDisplay)this.pe=3,this.miniMapDisplay=new d.map.Display(b,{draggable:!1,parentDisplay:this.mapDisplay,center:this.mapDisplay.center,zoomLevel:this.mapDisplay.zoomLevel-this.pe})},updateMinimap:function(){this.Fd.call(this,null,null,this.mapDisplay.center,null);this.Hd.call(this,null,null,this.mapDisplay.zoomLevel,null)},Fd:function(b,c,a){this.miniMapDisplay&&this.miniMapDisplay.setCenter(a,"none")},
Hd:function(b,c,a){this.miniMapDisplay&&(a=a-this.pe>=this.miniMapDisplay.minZoomLevel?a-this.pe:this.miniMapDisplay.minZoomLevel,this.miniMapDisplay.setZoomLevel(a,"none"))},Ha:function(){var b;this.expanded&&(b=this.getMinimapDimensions(),this.resize(b.width,b.height))},getMinimapDimensions:function(){return{width:c(200,h(this.mapDisplay.O.offsetWidth*0.25)),height:c(150,h(this.mapDisplay.O.offsetHeight*0.33))}}})})(nokia.maps);ovi.provide("nokia.maps.map.component.Traffic");
(function(d){d.map.component.Traffic=new ovi.Class({Extends:d.ui.UIComponent,attach:function(d){this.q=this.MAP_2D;this._super(d)},detach:function(d){this._super(d)},d:"Traffic",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.PublicTransport");(function(d){d.map.component.PublicTransport=new ovi.Class({Extends:d.ui.UIComponent,attach:function(d){this.q=this.MAP_2D;this._super(d)},detach:function(d){this._super(d)},d:"PublicTransport",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.TypeSelector");
(function(d){d.map.component.TypeSelector=new ovi.Class({Extends:d.ui.UIComponent,attach:function(d){this.q=this.MAP_2D+this.GLOBE;this._super(d);this.updateType&&this.mapDisplay.addObserver("baseMapType",this.updateType,this)},detach:function(d){this.updateType&&this.mapDisplay.removeObserver("baseMapType",this.updateType,this);this._super(d)},d:"TypeSelector",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.InfoBubbles");
(function(d){var k=d.util,h=k.c;d.map.component.InfoBubbles=new ovi.Class({Extends:d.ui.UIComponent,ALIGNMENT_LEFT:"left",ALIGNMENT_RIGHT:"right",ALIGNMENT_ABOVE:"above",ALIGNMENT_BELOW:"below",DIMENSION_AUTO:"auto",openBubbleHandles:null,initialize:function(){var c=this;c.q=c.MAP_2D;c._super();c.Og=function(){c.Jg()};c.Eg=function(b){var d=b.target;d.$locationData?(c.openBubble(d.$locationData),b.preventDefault()):d.metaData&&d.metaData.Search&&(c.openBubble(d.metaData.Search),b.preventDefault())};
c.Z=function(){c.Jg()};c.Wg={};c.openBubbleHandles=new k.OList;c.set("options",new k.OObject({defaultXAlignment:"right",defaultYAlignment:"below",defaultWidth:"auto",defaultHeight:"auto",autoClose:!0,backgroundColor:"#000",color:"#fff"}))},d:"InfoBubbles",n:"0.0.0.1",Rg:function(c,b,d){if(b==="remove"&&(c=this.Wg[d]))delete this.Wg[d],delete c.Fs},attach:function(c){this._super(c);this.set("openHandlesList",this.openBubbleHandles);d.map.plugin&&c instanceof d.map.plugin.Display?c.addListener("mapviewchangeend",
this.Og):(c.addListener("resize",this.Z,this),c.addListener("resizeend",this.Z,this),c.addObserver("center",this.Z,this),c.addObserver("zoomLevel",this.Z,this),c.addListener("mapviewchangeend",this.Z));c.addListener("click",this.Eg);this.openBubbleHandles.addObserver(this.Rg,this)},detach:function(c){d.map.plugin&&c instanceof d.map.plugin.Display?c.removeListener("mapviewchangeend",this.Og):(c.removeListener("resize",this.Z,this),c.removeListener("resizeend",this.Z,this),c.removeObserver("center",
this.Z,this),c.removeObserver("zoomLevel",this.Z,this),c.removeListener("mapviewchangeend",this.Z));c.removeListener("click",this.Eg);this.openBubbleHandles.removeObserver(this.Rg,this);this.set("openHandlesList",null);this.options.style=null;this._super(c)},closeBubble:function(c){c&&typeof c.close==="function"?c.close():h("The argument needs to be a bubble instance")}})})(nokia.maps);ovi.provide("nokia.maps.map.component.ZoomBar");
(function(d){d.map.component.ZoomBar=new ovi.Class({Extends:d.ui.UIComponent,attach:function(d){this.q=this.MAP_2D|this.GLOBE;this._super(d);this.updateZoomLevel&&this.mapDisplay.addObserver("zoomLevel",this.updateZoomLevel,this)},detach:function(d){this.updateZoomLevel&&this.mapDisplay.removeObserver("zoomLevel",this.updateZoomLevel,this);this._super(d)},d:"ZoomBar",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.ZoomRectangle");
(function(d){var k=d.dom,h=Math.abs,c=d.map.Display;d.map.component.ZoomRectangle=new ovi.Class({Extends:d.ui.UIComponent,initialize:function(b){this._super(b);this.q=this.MAP_2D|this.GLOBE;this.Ga=ovi.bind(this,this.Ga);this.dc=ovi.bind(this,this.dc);this.ec=ovi.bind(this,this.ec);this.set("on",!1)},styleSetter:function(b){if(b.hasOwnProperty("opacity"))b.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+b.opacity*100+")";return b},d:"ZoomRectangle",n:"0.0.0.1",switchOnOff:function(){this.set("on",
!this.on)},rectNodeSetter:function(b){var c=this.mapDisplay.Sa,a=c.ownerDocument;b||(b=k.setStyle(a.createElement("div"),this.ag));k.setStyle(b,this.style);this.rectNode&&this.rectNode.parentNode&&c.hasChildNodes(this.rectNode)&&c.removeChild(this.rectNode);c.appendChild(b);return b},attach:function(b){this._super(b);var c=this.rectNode,a=c?{}:this.ag,e=b.Sa,d=e.ownerDocument,c=c||this.set("rectNode",d.createElement("div"))&&this.rectNode;k.setStyle(c,a);k.setStyle(c,this.style);c.parentNode||e.appendChild(c);
b.addListener("dragstart",this.Ga);b.addListener("drag",this.dc);b.addListener("dragend",this.ec)},detach:function(b){b.removeListener("dragstart",this.Ga);b.removeListener("drag",this.dc);b.removeListener("dragend",this.ec);this._super(b)},ag:{border:"2px solid black",width:0,height:0,display:"none",position:"absolute",zIndex:"10000",background:"#CCC",opacity:0.5,filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},style:{},Ga:function(b){if(b.target instanceof c&&this.on&&this.enabled){var d=
this.rectNode,a=b.displayX,e=b.displayY;b.dataTransfer.lift=!1;this.Nc={x:a,y:e};d.style.left=a+"px";d.style.top=e+"px";d.style.width="0px";d.style.height="0px";d.style.display="";b.stopImmediatePropagation()}},dc:function(b){if(b.target instanceof c&&this.on&&this.enabled){var d=this.rectNode.style,a=this.Nc,e=b.displayX-a.x,k=b.displayY-a.y;d.left=a.x+(e<0?e:0)+"px";d.top=a.y+(k<0?k:0)+"px";d.width=h(e)+"px";d.height=h(k)+"px";b.stopImmediatePropagation()}},ec:function(b){if(b.target instanceof
c&&this.on&&this.enabled)this.hg={x:b.displayX,y:b.displayY},this.rectNode.style.display="none",this.Pc(),b.stopImmediatePropagation()},Pc:function(){var b=this.mapDisplay,c=d.geo.BoundingBox.coverAll([b.pixelToGeo(this.Nc.x,this.Nc.y),b.pixelToGeo(this.hg.x,this.hg.y)]);b.zoomTo(c,!1,"default")}})})(nokia.maps);ovi.provide("nokia.maps.map.component.ContextMenu");
(function(d){var k=nokia.maps.dom.Page.browser.touch,h=k?"tap":"click",c=k?"longpress":"contextmenu",b=d.util;d.map.component.ContextMenu=new ovi.Class({Extends:d.ui.UIComponent,d:"ContextMenu",n:"0.0.0.0",initialize:function(){var b=d.util.getRootNameSpace("nokia");this.q=this.MAP_2D|this.GLOBE;this.nb=new ovi.Array;this.tg=new ovi.Array;this.wc=ovi.bind(this,this.wc);this.addHandler(d.map.component.ContextMenu.zoomHandler);d.Features.getFeatureMap().reporter&&typeof Array.prototype.forEach==="function"&&
new d.reporter.ContextMenuHandler(this);b&&b.places&&this.setHeader(d.map.component.ContextMenu.reverseGeocodingHandler);d.routing&&d.routing.component&&this.addHandler(d.routing.component.ContextMenuHandler)},Statics:{Group:new ovi.Class({initialize:function(){this.H=[]},addEntry:function(b,a,c){this.H.push({pc:b,Hf:a,Jh:c})},Is:function(){return this.H.length}}),zoomHandler:function(b,a){var c;if(!b.target.isRoutingMarker)c=this.mapDisplay.zoomLevel,a.addEntry("__i18n_rightClickMenu.zoomIn__",c<
this.mapDisplay.maxZoomLevel?function(){this.mapDisplay.setZoomLevel(c+1,"default")}:null,!0),a.addEntry("__i18n_rightClickMenu.zoomOut__",c>this.mapDisplay.minZoomLevel?function(){this.mapDisplay.setZoomLevel(c-1,"default")}:null,!0)},reverseGeocodingHandler:function(b){var a=this,c=a.mapDisplay.pixelToGeo(a.x,a.y);nokia.places.search.manager.reverseGeoCode({latitude:c.latitude,longitude:c.longitude,onComplete:function(c,e){if(c&&e==="OK"){var d="",h=c.location.address,k=h.street?h.street:"",q=h.houseNumber?
h.houseNumber:"",y=h.city?h.city:"",s=h.postalCode?h.postalCode:"",u=h.countryCode?h.countryCode:"";k+q&&(d=k+" "+q+"<br/>");s+y&&(d+=s+" "+y+", ");d+=d?h.countryCode?h.countryCode:"":(u?u+", ":"")+(h.country?h.country:"");b.innerHTML=d;a.Ig(a.x,a.y)}}})},mapFeedbackHandler:nokia.maps.reporter.mapFeedbackHandler},attach:function(b){this._super(b);this.mapDisplay.addListener(c,this.wc);this.mapDisplay.addListener("mapviewchangestart",this.xa);this.node.addListener(h,this.Cc);this.La.addListener(h,
this.Cc);this.hide()},detach:function(b){this.mapDisplay.removeListener(c,this.wc);this.mapDisplay.removeListener("mapviewchange",this.xa);this.node.addListener(h,this.Cc);this.La.addListener(h,this.Cc);this._super(b)},addHandler:function(c){typeof c!=="function"&&b.c();return this.nb.indexOf(c)<0&&this.nb.push(c)&&!0},removeHandler:function(b){b=this.nb.indexOf(b);return b>=0&&this.nb.splice(b,1)&&!0},setHeader:function(b,a){this.al={pc:b,Jh:a}},Cc:function(b){(b.button===2||ovi.platform.mac&&b.button===
0&&b.ctrlKey)&&b.preventDefault()},wc:function(b){if(this.enabled){this.x=b.displayX;this.y=b.displayY;b.preventDefault();var a=this.nb,c=a.length,h=this.tg,f,k=d.map.component.ContextMenu.Group;for(h.length=0;c--;)a[c].call(this,b,f=new k),f.H.length&&h.push(f);h.length&&this.Hm(b)}}});if(d.routing&&d.routing.component)d.map.component.ContextMenu.routingHandler=d.routing.component.ContextMenuHandler})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.OverviewComponent");
(function(d){var k=d.ui.nokia_generic,h=d.dom.EventTarget,c=k.UIComponent.EVENT_CLICK,b=Math,g=b.pow,a=b.round;k.OverviewComponent=new ovi.Class({Extends:d.map.component.Overview,build:function(){var a=ovi.bind;this._super("nm_overviewWrap");this.t=h(this.findElement("nm_overviewButton",this.node));this.Rb=this.findElement("nm_overviewMap");this.ne=ovi.bind(this,this.ne);this.addObserver("expanded",this.ne);this.M=a(this,this.M);this.be=a(this,this.be);this.nh=new d.ui.common.Animator(this.be,0.6);
this.onLanguageChange()},attach:function(a){this._super(a);a=this.t;this.mainBgColor&&(this.Rb.style.backgroundColor=this.mainBgColor);this.initGraphics(a,"default");this.Sc(a);a.addListener(c,this.M);this.Vg();this.set("conceal",!1);this.triggerRedraw()},detach:function(a){var b=this.t;this.set("conceal",!1);this.dg(b);b.removeListener(c,this.M);this._super(a);this.triggerRedraw()},bb:function(a){a.nativeEvent.keyCode===13&&this.M()},M:function(){this.expanded?this.collapse():this.expand();this.setCursorDefault()},
expandedSetter:function(a){a?(this.setAria("expanded",!0,this.node),this.showMap(this.Rb),this.eg=this.getMinimapDimensions(),this.oh=!1,this.resize(this.eg.width,this.eg.height)):(this.setAria("expanded",!1,this.node),this.oh=!0,this.resize(0,0),this.node.removeAttribute("style"),this.Rb.removeAttribute("style"));return a},resize:function(a,b){var c=this.Rb,d=this.node;c.style.width=d.style.width=a+"px";c.style.height=d.style.height=b+"px";d.style.marginTop=-b+1+"px"},Sn:0,Qn:0,Xp:function(a,b){this.ph=
!1;this.sq=this.Sn;this.qq=this.Qn;this.ds=a-this.sq;this.bs=b-this.qq;this.nh.stop();this.nh.start();this.Ml()},be:function(b){var c=-2*g(b,3)+3*g(b,2),f=this.bs*c;this.bf(a(this.sq+this.ds*c),a(this.qq+f));if(b==1)this.ph=!0,this.Ll(),this.updateMinimap()},bf:function(a,b){var c=this.Rb,d=this.node;if(!this.ph)if(this.Vg(),a+9<=27||b+10<=31){if(this.oh)c.style.width=c.style.height=d.style.width=d.style.height=d.marginTop="",c.style.top="-29px",this.setAria("expanded",!1,this.node)}else this.Sn=
a,this.Qn=b,c.style.width=d.style.width=a+"px",c.style.height=d.style.height=b+"px",c.style.top=-b+"px",d.style.marginTop=-b+1+"px"},Ml:function(){var a=new d.dom.Event;a.type="resizestart";a.target=this;this.dispatch(a)},Vg:function(){var a=new d.dom.Event;a.type="resize";a.target=this;this.dispatch(a)},Ll:function(){var a=new d.dom.Event;a.type="resizeend";a.target=this;this.dispatch(a)},ne:function(){this.node.title=this.translate("ovi.service.map._"+(this.expanded?"t51":"t50"))},onLanguageChange:function(){this.ne()}});
d.map.component.Overview=k.OverviewComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportAndTrafficMixin");
(function(d){var k=d.ui.nokia_generic,h=d.dom.EventTarget,c=k.UIComponent,d=d.dom.Page,b=!!(d.browser.msie&&d.browser.version<9),g=c.EVENT_CLICK;k.PublicTransportAndTrafficMixin=new ovi.Class({initialize:function(){this.vi=!1},build:function(){var a=ovi.bind;this._super(c.CSS_CLASS_PREFIX+this.wg);this.t=h(this.node);this.db=a(this,this.db);this.Ka=a(this,this.Ka);this.gl(this.node,void 0,void 0,!0);this.onLanguageChange()},Rc:function(){var a=this.mapDisplay;this.initGraphics(this.t,"default");this.Ej=
ovi.bind(this,this.Ej);this.Na=ovi.bind(this,this.Na);a.addObserver("baseMapType",this.Qe,this);a.overlays.addObserver(this.Re,this);a.availableBaseMapTypes.addObserver(this.Na,this);a.addObserver("zoomLevel",this.Na,this);a.addListener("resizeend",this.Ka);a.addListener("transitionstart",this.Ej);a.addListener("transitionend",this.Na);this.Na();this.set("conceal",!1);this.Cj();this.Xh()},Ej:function(){this.zo=!0},Re:function(){},detach:function(a){var b=this.t,c=this.mapDisplay;this.Pb&&this.Pb(a);
c.baseMapType===this.pa&&c.set("baseMapType",c.NORMAL);this.pa=null;b.removeListener(g,this.db);a.removeObserver("baseMapType",this.Qe,this);a.overlays.removeObserver(this.Re,this);a.availableBaseMapTypes.removeObserver(this.Na,this);a.removeObserver("zoomLevel",this.Na,this);a.removeListener("resizeend",this.Ka);a.removeListener("transitionstart",this.Ej);a.removeListener("transitionend",this.Na);this.set("conceal",!0);this.setAria("disabled",null,this.node);this._super(a);this.Cj();this.vi=!1},
Qe:function(a,b,c,f){this.vi?this.vi=!1:(f===a.SATELLITE||f===a.TERRAIN||f===a.COVERAGE||f===a.GLOBE)&&c!==a.PANORAMA&&c!==a.GLOBE?(a=this.getAria("pressed",this.t)?!0:!1,b=this.Xc(),a&&b?this.mapDisplay.set("baseMapType",this.pa):this.Ce(b)):c===this.pa?(this.setAria("pressed",!0,this.t),this.Ce(!0)):c===a.TRAFFIC||c===a.SMART_PT||c===a.NORMAL?(this.setAria("pressed",!1,this.t),this.Ce(!0),this.Xh()):c===a.GLOBE||c===a.PANORAMA||this.Ce(!1)},Na:function(a){var b=this.mapDisplay,c=this.pa,f=this.Xc();
if(a&&a.type==="transitionend")this.zo=!1;if(!this.zo){if(!f&&this.getAria("pressed",this.t))this.vi=!0;if(b.baseMapType==c&&!f)a=b.getView(),a.zoom=c.minDataZoomLevel-1,a.distance=void 0,b.setBaseMapType(b.NORMAL,"none",a);if(b.baseMapType==b.NORMAL&&f&&this.getAria("pressed",this.t))a=b.getView(),a.zoom=c.minDataZoomLevel,a.distance=void 0,b.setBaseMapType(c,"none",a);this.Ce(f)}},Xc:function(){var a=this.mapDisplay,b=this.pa,c=a.baseMapType;return a.availableBaseMapTypes.indexOf(b)>=0&&a.zoomLevel>=
b.minDataZoomLevel&&a.zoomLevel<=b.maxDataZoomLevel&&(c===a.NORMAL||c===a.SMART_PT||c===a.TRAFFIC)},db:function(){var a=this.mapDisplay,b=this.pa;a.set("baseMapType",a.baseMapType===b?a.NORMAL:b)},Ce:function(a){var c=this.t,d=this.getAria("disabled",c);this.Xh();if(d!==!a)this.setAria("disabled",!a,this.node),a?(c.addListener(g,this.db),this.Sc(c),b||this.node.setAttribute("tabindex",0)):a===!1&&(c.removeListener(g,this.db),this.dg(c),b||this.node.removeAttribute("tabindex")),this.enabled=a},Xh:function(){var a=
this.Xc(),b=this.mapDisplay.baseMapType==this.pa,c=this.wg;this.setCssActive(this.node,b);a?b?this.setGraphics(c,"active"):this.setGraphics(c,"normal"):this.setGraphics(c,"disable")},G:function(a){this.enabled&&!this.getAria("pressed",this.t)&&this._super(a)},C:function(a){this.enabled&&this._super(a)},Qg:function(a){this.enabled&&this._super(a)},bb:function(a){a.nativeEvent.keyCode===13&&this.db()},Ka:function(){var a=this.pa,b=this.getRootNode().parentNode.parentNode,c=b.clientWidth/this.he,a=a===
this.mapDisplay.TRAFFIC?312:276;this.Tn&&(b.clientHeight/this.he<356?c<a?this.setAria("hidden",!0):this.setAria("hidden",!1):this.setAria("hidden",!1))},isCompatible:function(a){return this.Tn=this._super(a)},onLanguageChange:function(){this.node.title=this.translateHtml("__i18n_ovi.service.map._t86__")}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficOverlayMixin");ovi.provide("nokia.maps.ui.nokia_generic.TrafficMixin");
(function(d){d=d.ui.nokia_generic;d.TrafficMixin=new ovi.Class({Extends:d.PublicTransportAndTrafficMixin,vg:function(){return this.mapDisplay.overlays.indexOf(this.pa)!==-1},db:function(){var d=this.mapDisplay,h=this.pa;this.vg()?d.overlays.remove(h):d.overlays.add(h)},Qe:function(){},Re:function(d,h,c){d=this.wg;c===this.mapDisplay.TRAFFIC&&(h==="add"?(this.setAria("pressed",!0,this.t),this.setGraphics(d,this.Xc()?"active":"disable")):this.vg()||(this.Io||this.setAria("pressed",!1,this.t),this.setGraphics(d,
this.Xc()?"normal":"disable")))},Pb:function(d){this.vg()&&d.overlays.remove(this.pa)},Xc:function(){var d=this.mapDisplay,h=this.pa;return d.availableOverlays.indexOf(h)!==-1&&d.zoomLevel>=8&&d.zoomLevel<=h.maxDataZoomLevel},Na:function(){var d=this.mapDisplay,h=this.pa,c=this.Xc();if(this.getAria("pressed",this.t))if(!c&&this.vg())this.Io=!0,d.overlays.remove(h);else if(c&&!this.vg())d.overlays.add(h),this.Io=!1;this.Ce(c)},Xh:function(){var d=this.Xc(),h=this.getAria("pressed",this.t),c=this.wg;
this.setCssActive(this.node,h);d?h?this.setGraphics(c,"active"):this.setGraphics(c,"normal"):this.setGraphics(c,"disable")},onLanguageChange:function(){this.node.title=this.translate("ovi.service.map._t91")}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficComponent");
(function(d){var k=d.ui.nokia_generic;k.TrafficComponent=new ovi.Class({Extends:d.map.component.Traffic,Mixins:[k.TrafficMixin],initialize:function(d){this._super(d);this.wg="traffic";this.pa=null},attach:function(d){this._super(d);this.pa=d.TRAFFIC;this.Rc()}});d.map.component.Traffic=k.TrafficComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportComponent");
(function(d){var k=d.ui.nokia_generic;k.PublicTransportComponent=new ovi.Class({Extends:d.map.component.PublicTransport,Mixins:[k.PublicTransportAndTrafficMixin],initialize:function(d){this._super(d);this.wg="publicTransport";this.pa=null},attach:function(d){this._super(d);this.pa=d.SMART_PT;this.Rc()}});d.map.component.PublicTransport=k.PublicTransportComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.MapSelectorComponent");
(function(d){var k=d.ui.nokia_generic,h=d.util,c=d.dom,b=c.EventTarget,g=k.UIComponent,a=c.Page,e=h.Point,l=k.SpaceManager,f=ovi.dom.addClass,p=ovi.dom.removeClass,m=ovi.browser.msie&&ovi.browser.version<9?"innerText":"textContent",r=g.EVENT_CLICK,q=g.EVENT_BLUR,y=g.LAYOUT_VERTICAL,s=!!(a.browser.msie&&a.browser.version<9),u=ovi.Array.indexOf,w="DIV DD DT DL LI UL".split(" ");k.MapSelectorComponent=new ovi.Class({Extends:d.map.component.TypeSelector,ee:null,width:0,build:function(){this._super("nm_mapSelectorWrap");
var a=this.mapDisplay,c=ovi.bind,e=this.ca=this.node,g=this.$o=b(this.findElement("nm_menuItemMapType",this.node)),h=this.sr=b(this.findElement("nm_labelOpen nm_firstBG",this.node)),k=this.Gd=[{node:b(this.findElement("nm_normal",this.node)),type:a.NORMAL},{node:b(this.findElement("nm_satellite",this.node)),type:a.SATELLITE},{node:b(this.findElement("nm_terrain",this.node)),type:a.TERRAIN}],l=k.length;if(this.findElement("nm_globe"))k.push({node:b(this.findElement("nm_globe",this.node)),type:a.GLOBE}),
l=k.length;a.GLOBE&&d.map.render.globe?f(e.parentNode,"nm_has3D"):((a=this.findElement("nm_globe"))&&a.parentNode.removeChild(a),(a=this.findElement("nm_3DBG"))&&a.parentNode.removeChild(a),p(e.parentNode,"nm_has3D"));this.contract=c(this,this.contract);this.Xi=c(this,this.Xi);for(h.i18n={title:h.getAttribute("title")};l--;)e=k[l],e.onClick=c(this,this.mp,e),e.textNode=this.findElement("nm_secondBG",e.node),e.i18n=e.textNode.innerHTML;b(this.node).disableUserSelect();this.db=c(this,this.db);this.Ka=
c(this,this.Ka);c=this.findElement("nm_labelOpen",g);this.ap={node:c,i18n:c[m]};c=this.findElement("nm_labelClose",g);this.ht={node:c,i18n:c[m]};this.hide();this.onLanguageChange();this.Ka();this.contract()},attach:function(a){this._super(a);var b=this.mapDisplay,c=this.Gd,e=c.length;this.$o.addListener(r,this.db);for(b.addObserver("baseMapType",this.Rm,this);e--;)c[e].node.addListener(r,c[e].onClick);this.Rm(a,"baseMapType",a.baseMapType);this.ee=l.getSpaceManager(a);this.pu();b.addListener("resizestart",
this.contract);b.addListener("resizeend",this.Ka);this.show();this.set("conceal",!1);this.Cj()},detach:function(a){var b=this.mapDisplay,c=this.ca,e=this.Gd,f=e.length;this.$o.removeListener(r,this.db);c.removeListener(q,this.contract);b.removeObserver("baseMapType",this.Rm,this);b.removeListener("resizestart",this.contract);for(b.removeListener("resizeend",this.Ka);f--;)e[f].node.removeListener(r,e[f].onClick);this.ee.removeComponent(this.getId());this.hide();this._super(a);this.Cj()},expand:function(){var a=
this.ee,c=this.node,e=c.parentNode,d=window.document;a&&a.setActiveState(this.getId(),"1");this.setAria("expanded",!0,c);this.setAria("expanded",!0,e);this.we===y&&f(e,"nm_openVertSelector");d=b(d);d.addListener(r,this.Xi);this.triggerRedraw()},contract:function(){var a=this.ee,b=this.node,c=b.parentNode,e=window.document;a&&a.setActiveState(this.getId(),"0");this.setAria("expanded",!1,b);this.setAria("expanded",!1,c);this.we===y&&p(c,"nm_openVertSelector");e.removeListener&&e.removeListener(r,this.Xi);
this.triggerRedraw()},Rm:function(a,b,c){a=this.Gd;for(b=a.length;b--;)a[b].type===c&&this.fq(a[b])},fq:function(a){var b=this.ap.node,c=this.$q;c&&this.setAria("checked",!1,c.node);this.$q=a;this.setAria("checked",!0,a.node);s?b[m]=a.textNode.innerHTML:b.firstChild[m]=a.textNode.innerHTML},Xi:function(a){c.contains(this.node,a.target)||(this.getAria("expanded",this.node)&&this.contract(),this.Fe())},bb:function(a){var b=a.target,c=a.nativeEvent.keyCode,e=this.we,f=g.LAYOUT_HORIZONTAL,d=g.LAYOUT_VERTICAL,
h=this.Gd,k,l;if(b===this.ca)switch(c){case 40:h[0].node.focus();break;case 38:h[h.length-1].node.focus();break;case 37:h[0].node.focus();break;case 39:h[h.length-1].node.focus();break;case 13:this.getAria("expanded",this.node)?this.contract():this.expand();this.Fe();break;case 9:this.Fe()}else{for(l=k=this.Gd.length;l--;)if(h[l].node===b)break;switch(c){case 40:if(e===f)break;l+=1;l===k?h[0].node.focus():h[l].node.focus();break;case 38:if(e===f)break;l-=1;l<0?h[k-1].node.focus():h[l].node.focus();
break;case 37:if(e===d)break;l+=1;l===k?h[0].node.focus():h[l].node.focus();break;case 39:if(e===d)break;l-=1;l<0?h[k-1].node.focus():h[l].node.focus();break;case 13:this.mp(h[l],a);break;case 9:this.Fe()}}},db:function(){this.getAria("expanded",this.node)?this.contract():this.expand();this.Fe()},mp:function(a){this.mapDisplay.setBaseMapType(a.type,"default");this.fq(a)},onLanguageChange:function(){var a;a=this.sr;var b=this.ap,c=this.ht,e=this.Gd,f=e.length;a.title=this.translateHtml(a.i18n.title);
b.node.innerHTML=this.translateHtml(b.i18n);c.node.innerHTML=this.translateHtml(c.i18n);s?b.node[m]=this.translateHtml(b.i18n):b.node.firstChild[m]=this.translateHtml(b.i18n);for(c.node[m]=this.translateHtml(c.i18n);f--;)a=e[f].textNode,a.innerHTML=this.translateHtml(e[f].i18n);this.Fe()},Fe:s?function(){var a=this.node,b=a.parentNode,c=b.childNodes,e=0,f,d=a.childNodes,h=d.length,k;k=this.getAria("expanded",a);var a=this.we===g.LAYOUT_VERTICAL,l=0;if(k){for(;h--;)f=d[h],u(w,f.nodeName)>0&&!this.getAria("hidden",
f)&&(k=f.currentStyle||window.getComputedStyle(f),f=f.offsetWidth-0,f+=k&&(k.marginLeft.slice(0,-2)-0)*10||0,f+=k&&(k.marginRight.slice(0,-2)-0)*10||0,a?e=l=f>l?f+3:l:(e+=f,e+=3));for(h=c.length;h--;)if(f=c[h],f.nodeName==="LI")d=f.offsetWidth,e+=d;b.style.width=e/10+"em"}else b.style.width="auto"}:h.J,pu:function(){var a=this.ee,b=this.ca,c=this.mapDisplay,f=ovi.dom.offset(b,c.O),d;a.registerSpace(this.getId(),"0",d=new e(f.left,f.top),d.add(new e(b.offsetWidth,b.offsetHeight)));this.expand();f=
ovi.dom.offset(b,c.O);a.registerSpace(this.getId(),"1",d=new e(f.left,f.top),d.add(new e(b.offsetWidth,b.offsetHeight)));this.contract()},layoutHorizontal:function(){this._super();this.ca&&ovi.dom.addClass(this.ca.parentNode,"nm_layout_horizontal")},layoutVertical:function(){this._super();this.ca&&ovi.dom.removeClass(this.ca.parentNode,"nm_layout_horizontal")},Ka:function(){var b=this.getRootNode().parentNode.parentNode,c=b.clientHeight/this.he,b=b.clientWidth/this.he,e=this.Gd[2].node,f=a.platform.ipad||
a.platform.iphone,d=a.browser.fullVersion.replace(".","").substring(0,2),d=f&&d>=51;c<413?(this.layoutHorizontal(),b<368?this.setAria("hidden",!0,e):this.setAria("hidden",!1,e)):(!d&&f?this.layoutHorizontal():this.layoutVertical(),this.setAria("hidden",!1,e));this.triggerRedraw()}});d.map.component.TypeSelector=k.MapSelectorComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ContextMenuComponent");
(function(d){var k=nokia.maps.ui.nokia_generic,h=d.util,c=d.dom.EventTarget,b=k.UIComponent,g=d.map.component.ContextMenu,a=ovi.dom.addClass;nokia.maps.ui.nokia_generic.ContextMenuComponent=new ovi.Class({Extends:g,Statics:{zoomHandler:g.zoomHandler,reverseGeocodingHandler:g.reverseGeocodingHandler,routingHandler:g.routingHandler,Group:g.Group},dm:32,cm:32,build:function(){var a,b;this._super("nm_rcMenu");a=this.node.parentNode;b=this.node=c(this.node.cloneNode(!0));c(b.ownerDocument);a.appendChild(b);
this.ig=b.removeChild(this.findElement("nm_rcMenuItem"),b);this.wh=b.removeChild(this.findElement("nm_rcMenuSeparator"),b);this.La=c(b.parentNode.appendChild(this.findElement("nm_rcMenuPin"),b));this.La.addListener("contextmenu",function(a){a.preventDefault()});this.xa=ovi.bind(this,this.xa);this.hide=ovi.bind(this,this.hide)},Hm:function(c){var d=this,f=d.node,g=f.ownerDocument,h=d.tg,k,q=h.length,y,s,u,w;f.innerHTML="";if((y=d.al)&&!c.target.isRoutingMarker&&!(c.target instanceof nokia.maps.map.Marker))u=
d.ig.cloneNode(!0),a(u,"nm_rcMenuItemHeader"),d.jg(u,y,g,!0),f.appendChild(u),a(f.appendChild(d.wh.cloneNode(!0)),"seperator-header");for(;q--;){k=h[q];k=k.H;for(w=0;w<k.length;w++)s=k[w],u=d.ig.cloneNode(!0),!y&&q===h.length-1&&w===0&&a(u,"top"),c.target.isRoutingMarker&&c.target instanceof nokia.maps.map.Marker&&h.length===1&&k.length==1&&a(u,"top"),d.jg(u,s,g),s.Hf&&this.Xj(u,s),f.appendChild(u);q&&f.appendChild(d.wh.cloneNode(!0))}g.addListener(b.EVENT_DOWN,function(a){d.Um(a.target)||d.xa()},
!0);d.show();d.Ig(c.displayX,c.displayY)},jg:function(a,b,c,d){var g=b.pc;switch(typeof b.pc){case "string":a.appendChild(c.createTextNode(b.Jh?this.translateHtml(g):g));break;case "function":b.pc.call(this,a);break;default:h.Lu("ContextMenu.Group."+(d?"header":"entry")+" label must be either a string or a function")}},Xj:function(e,d){var f=this;c(e).addListener(b.EVENT_CLICK,function(a){f.xa();d.Hf.call(f,a)});a(e,"clickable")},Um:function(a){for(var b=this.node,c;c=a.parentNode;){if(c==b)return!0;
a=a.parentNode}return!1},Ig:function(a,b){var c=this.node,d=c.offsetWidth,g=c.offsetHeight,h=this.mapDisplay,k=h.width,h=h.height;this.La.style.left=a-this.dm/2+"px";this.La.style.top=b-this.cm/2+"px";c.style.left=k-a<d?a-d+"px":a+"px";c.style.top=h-b<g?b-g+"px":b+"px"},xa:function(){this.node.ownerDocument.removeListener("mousedown",this.xa,!0);this.Of();this.jc=setTimeout(this.hide,150)},hide:function(){this._super();this.jc=!1;this.La.style.display="none";this.triggerRedraw();this.set("hidden",
!0)},show:function(){this.Of();this._super();this.La.style.display="";this.triggerRedraw();this.set("hidden",!1)},Of:function(){this.jc&&clearTimeout(this.jc);this.jc=null}});d.map.component.ContextMenu=k.ContextMenuComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ZoomBarComponent");
(function(d){var k=d.ui.nokia_generic,h=d.dom.EventTarget,c=k.UIComponent,b=k.SpaceManager,g=d.util.da,a=ovi.bind,e=Math.floor,l=Math.ceil,f=c.EVENT_DOWN,p=c.EVENT_UP,m=c.EVENT_OUT;k.ZoomBarComponent=new ovi.Class({Extends:d.map.component.ZoomBar,build:function(){this._super("nm_zoomWrap");this.disableUserSelect();this.Nv=this.node;this.sf=h(this.findElement("nm_zoomIn"),this.node);this.vf=h(this.findElement("nm_zoomOut"),this.node);this.rf=a(this,this.rf);this.uf=a(this,this.uf);this.Vb=a(this,this.Vb);
this.hide();this.Hu();this.onLanguageChange()},attach:function(c){this._super(c);var e=this.sf,d=a(e,e.addListener),g=this.vf,h=a(g,g.addListener);a(c,c.addObserver);this.initGraphics(e,"default");this.initGraphics(g,"default");this.Sc(e,g);d(f,this.rf);d(p,this.Vb);d(m,this.Vb);h(f,this.uf);h(p,this.Vb);h(m,this.Vb);this.ee=b.getSpaceManager(c);this.show();this.set("conceal",!1)},detach:function(a){var b=this.sf,c=this.vf;this._super(a);b.removeListener(f,this.rf);b.removeListener(p,this.Vb);c.removeListener(f,
this.uf);c.removeListener(p,this.Vb);this.dg(b,c);this.ee.removeComponent(this.getId());this.hide();this.set("conceal",!0)},show:function(){this._super()},Lf:function(a,b){var c=this.mapDisplay,f=(b?e:l)(a);c&&(f=g(f+(f===a)*(b?-1:1),c.minZoomLevel,c.maxZoomLevel),c.setZoomLevel(f,"default"))},tq:function(a,b){this.Ob=window.setInterval(b?this.uf:this.rf,1E3,a)},Vb:function(a){var b=this.Ob;if(b)window.clearInterval(b),this.Ob=null;this.Ct(a)},rf:function(a){this.xp(a);this.Lf(this.mapDisplay.zoomLevel);
this.Ob||this.tq(a)},uf:function(a){this.xp(a);this.Lf(this.mapDisplay.zoomLevel,!0);this.Ob||this.tq(a,!0)},bb:function(a){var b=a.nativeEvent.keyCode;if(b===38||b===43||b===107)this.rf(a),this.Vb(a);else if(b===40||b===45||b===109)this.uf(a),this.Vb(a)},onLanguageChange:function(){this.sf.title=this.translateHtml("__i18n_ovi.service.map._t41__");this.vf.title=this.translateHtml("__i18n_ovi.service.map._t40__")}});d.map.component.ZoomBar=k.ZoomBarComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ZoomRectangleComponent");
(function(d){var k=d.ui,h=k.common,k=k.nokia_generic,c=d.dom.EventTarget,b=k.UIComponent.EVENT_CLICK,g=h.ColorSet,a=new h.ColorScheme({normal:new g({stroke:"#333",fill:"#00BBDC"}),focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#FFF",fill:"#FFF"})});k.ZoomRectangleComponent=new ovi.Class({Extends:d.map.component.ZoomRectangle,build:function(){this._super("nm_zoomRectWrap");this.t=c(this.node);this.Ld=c(this.findElement("nm_zoomRectButton_icon_normal"));this.bh=c(this.findElement("nm_zoomRectButton_icon_pressed"));
this.M=ovi.bind(this,this.M);this.hide();this.setAria("pressed","false",this.node)},attach:function(c){this._super(c);var c=this.t,d=this.Ld,f=this.bh;this.initGraphics(d,"default");this.initGraphics(f,a);this.Sc(d,f);c.addListener(b,this.M);this.set("conceal",!1)},detach:function(a){this._super(a);this.Sc(this.Ld,this.bh);this.t.removeListener(b,this.M)},M:function(){this.switchOnOff();this.la?(this.la=!1,this.setAria("pressed","false",this.node)):(this.la=!0,this.setAria("pressed","true",this.node))}});
d.map.component.ZoomRectangle=k.ZoomRectangleComponent})(nokia.maps);ovi.provide("nokia.maps.positioning.component.Positioning");
(function(d){d.positioning.component.Positioning=new ovi.Class({Extends:d.ui.UIComponent,initialize:function(d){this._super(d);this.q=this.MAP_2D;this.responseHandler=ovi.bind(this,this.responseHandler);this.DEFAULT_SVG_MARKER_SRC='<svg xmlns="http://www.w3.org/2000/svg" width="34" version="1.1" height="34" baseProfile="tiny" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg2"><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.510917,21.688377 8.510917,17 c 0,-4.688377 3.800704,-8.489083 8.489083,-8.489083 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path3761" style="color:#000000;fill:#ffffff;fill-opacity:0.50196078;stroke:none;stroke-width:1.02183414;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.5109169,21.688377 8.5109169,17 C 8.5109169,12.311623 12.311621,8.510917 17,8.510917 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path5230" style="color:#000000;fill:none;stroke:#00bbdc;stroke-width:1.02183414;stroke-linecap:butt;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 22,17 c 0,2.761417 -2.238583,5 -5,5 c -2.761417,0 -5,-2.238583 -5,-5 c 0,-2.761417 2.238583,-5 5,-5 c 2.761417,0 5,2.238583 5,5 z" id="path3218" style="color:#000000;fill:#00bbdc;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /></svg>'},d:"Positioning",
n:"0.0.0.1",accuracyCircle:null,build:function(d){d&&this._super(d)},removeCircle:function(){this.accuracyCircle&&this.mapDisplay.objects.remove(this.accuracyCircle);this.accuracyCircle=null;this.positionMarker&&this.mapDisplay.objects.remove(this.positionMarker);this.positionMarker=null},detach:function(d){this.removeCircle();this._super(d)},requestPosition:function(k,h){var c=this,b;d.positioning.Manager&&(b=new d.positioning.Manager,b.getCurrentPosition(function(b){c.responseHandler(b);k(b)},h))},
responseHandler:function(k){var h=k.coords,k=new d.map.Circle(h,h.accuracy,this.Ln||{}),c=new d.gfx.SvgParser,c=new d.gfx.GraphicsImage(c.parseSvg(this.DEFAULT_SVG_MARKER_SRC)),h=new d.map.Marker(h,{icon:c,anchor:[c.width/2,c.height/2]});this.removeCircle();this.showPosition(k,h);this.accuracyCircle=k;this.positionMarker=h},showPosition:function(d,h){this.mapDisplay.objects.addAll([d,h]);this.mapDisplay.zoomTo(d.getBoundingBox(),!1)}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.InfoBubbleComponent");
(function(d){var k=d.ui.common,h=d.util,c=d.geo.Coordinate,b=d.ui.common.Bubble,g=h.c,a=d.dom.findElement,e=new nokia.maps.ui.common.ColorSet({background:"#000F1A",text:"#FFFFFF",border:"#000F1A",fill:"#000F1A",stroke:"#000F1A"}),l={backgroundColor:"fill",color:"text"},f=k.InfoBubbleComponent=new ovi.Class({Extends:d.map.component.InfoBubbles,Statics:{createTails:function(b,c,e){var f={};d.dom.ti(a(e+"bubble_tail",b),function(a,b){var e=new d.ui.common.GfxTemplate(b,c);f.rightbelow=(new d.gfx.GraphicsImage(e.stencil(1,
0,0))).createElement();f.rightabove=(new d.gfx.GraphicsImage(e.stencil(1,0,2))).createElement();f.leftbelow=(new d.gfx.GraphicsImage(e.stencil(1,0,1))).createElement();f.leftabove=(new d.gfx.GraphicsImage(e.stencil(1,0,3))).createElement()});return f}},initialize:function(a){this.Q=a.cssPrefix||"nm_";this.va=a.colorSet||e;this._super();this.Gf={};this.openBubbleHandles=new nokia.maps.util.OList},cl:0,isCloning:!0,build:function(){this._super(this.Q+"infoBubble");this.kk=this.findElement(this.Q+"bubble_bg",
this.node);this.bc=ovi.bind(this,this.bc);this.options.addObserver("backgroundColor",this.bc);this.options.addObserver("color",this.bc);this.options.backgroundColor=this.va.fill;this.options.color=this.va.text;this.Bf()},Bf:function(){this.kk.style.backgroundColor=this.va.fill||"";this.node.style.color=this.va.text||"";this.Xa=f.createTails(this.node,this.va,this.Q)},bc:function(a,b,c){a=l[b];c?this.va[a]=c:delete this.va[a];this.Bf()},detach:function(a){this.closeAll();this._super(a)},openBubble:function(a,
b,e,f){(b=c.fromObject(b))||g("Not a valid coordinate");a||g("No content specified");e=this.initBubble(e,f);e.update(a,b);e.open();return e},initBubble:function(a,c){var e=this,f=e.options,f=new b({id:e.cl++,node:d.dom.cloneNode(e.node,!0),Ca:!1,Cl:function(){e.openBubbleHandles.remove(this)},Jl:function(){e.options.autoClose&&e.closeAll();e.openBubbleHandles.add(this)},qg:function(){return e.mapDisplay},Ol:a||nokia.maps.util.J,Xa:e.uk(),xd:c,Q:e.Q,defaultWidth:f.defaultWidth,defaultHeight:f.defaultHeight,
xAlignment:f.defaultXAlignment,yAlignment:f.defaultYAlignment});e.Gf[f.id]=f;e.mapDisplay.Sa.appendChild(f.node);return f},closeAll:function(){for(var a=this.openBubbleHandles.getLength();a--;)this.openBubbleHandles.get(a).close()},uk:function(){var a=nokia.maps.dom.cloneNode;return{rightbelow:a(this.Xa.rightbelow,1),rightabove:a(this.Xa.rightabove,1),leftbelow:a(this.Xa.leftbelow,1),leftabove:a(this.Xa.leftabove,1)}},ks:h.J,ls:h.J,show:h.J,hide:h.J,Jg:function(){var a,b=this.Gf;for(a in b)b[a].Kb()}})})(nokia.maps);
ovi.provide("nokia.maps.map.component.ScaleBar");
(function(d){d.map.component.ScaleBar=new ovi.Class({Extends:d.ui.UIComponent,d:"ScaleBar",n:"0.0.0.1",initialize:function(d){this._super(d);this.q=this.MAP_2D},attach:function(d){this._super(d);this.updateScale&&this.mapDisplay.addObserver("zoomLevel",this.updateScale,this).addObserver("center",this.updateScale,this).addObserver("copyrightWidth",this.updateScale,this)},detach:function(d){this.updateScale&&this.mapDisplay.removeObserver("zoomLevel",this.updateScale,this).removeObserver("center",this.updateScale,
this).removeObserver("copyrightWidth",this.updateScale,this);this._super(d)},showImperialUnits:!1,showImperialUnitsSetter:function(d){this.switchUnit(d);return d},calculateMPP:function(){var d=this.mapDisplay,h=d.center,c=d.geoToPixel(h),b=0;h.latitude==90&&(b=1);h.longitude==-90&&(b=-1);return d.pixelToGeo(c.x-1,c.y+b).distance(d.pixelToGeo(c.x+1,c.y+b))/2}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PositioningComponent");
(function(d){var k=d.ui.common,h=d.ui.nokia_generic,c=d.dom.EventTarget,b=h.UIComponent.EVENT_CLICK,g=k.ColorSet,k=k.ColorScheme,a=new k({normal:new g({stroke:"#333",fill:"#333"}),disable:new g({stroke:"#D6D6D6",fill:"#D6D6D6"}),focus:new g({stroke:"#333",fill:"#00BBDC"}),active:new g({stroke:"#FFF",fill:"#FFF"})}),e=new k({normal:new g({stroke:"#333",fill:"#00BBDC"}),focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#FFF",fill:"#FFF"})}),l=new k({normal:new g({stroke:"#0099BB",fill:"#0099BB"}),
focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#333",fill:"#333"})});h.PositioningComponent=new ovi.Class({Extends:d.positioning.component.Positioning,build:function(){this._super("nm_positioningWrap");this.ca=c(this.node);this.nk=c(this.findElement("nm_pos_icon_normal"),this.ca);this.ok=c(this.findElement("nm_pos_icon_pressed"),this.ca);this.mk=c(this.findElement("nm_pos_icon_busy"),this.ca);this.Ug=ovi.bind(this,this.Ug);this.gl(this.node,void 0,void 0,!0);this.onLanguageChange()},
attach:function(c){this._super(c);c=this.ca;this.initGraphics(this.nk,a);this.initGraphics(this.ok,e);this.initGraphics(this.mk,l);d.positioning.Manager?(c.addListener(b,this.Ug),this.Sc(this.nk,this.ok,this.mk)):(this.setAria("disabled",!0,c),this.setGraphics("positioning_normal","disable"));this.set("conceal",!1)},detach:function(a){nokia.maps.positioning.Manager&&this.ca.removeListener(b,this.Ug);this.dg(this.nk,this.ok,this.mk);this._super(a)},Ug:function(){var a=this,b=a.ca;a.getAria("pressed",
b)?(a.removeCircle(),a.setAria("pressed",!1,b)):(a.setAria("pressed",!0,b),a.setAria("busy",!0,b),a.Ln={pen:{strokeColor:"#00BBDC",lineWidth:2},brush:{color:"#FFFFFF99"}},a.requestPosition(function(){a.setAria("busy",!1,b)},function(){setTimeout(function(){a.setAria("pressed",!1,b);a.setAria("busy",!1,b)},8E3)}))},bb:function(a){!this.getAria("disabled",this.node)&&a.nativeEvent.keyCode===13&&this.Ug()},onLanguageChange:function(){this.node.title=this.translateHtml("__i18n_ovi.service.map._t72__")}});
d.positioning.component.Positioning=h.PositioningComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.InfoBubbleComponent");(function(d){var k=d.ui.nokia_generic,h=new nokia.maps.ui.common.ColorSet({background:"#000F1A",text:"#FFF",border:"#000F1A",fill:"#000F1A",stroke:"#000F1A"});k.InfoBubbleComponent=new ovi.Class({Extends:d.ui.common.InfoBubbleComponent,initialize:function(){this._super({colorSet:h,cssPrefix:"nm_"})}});d.map.component.InfoBubbles=k.InfoBubbleComponent})(nokia.maps);
ovi.provide("nokia.maps.ui.nokia_generic.ScaleBarComponent");
(function(d){var k=d.ui.common,h=d.ui.nokia_generic,c=d.gfx,b=d.dom.EventTarget,g=h.UIComponent,a=g.EVENT_CLICK,e=g.EVENT_OVER,l=g.EVENT_OUT,f=g.EVENT_FOCUS,p=g.EVENT_BLUR,m=g.CSS_GFX,r=100,q=Math,y=q.floor,s=c.GraphicsImage,u=c.Color.parseCss,c=k.ColorSet,w=new k.ColorScheme({normal:new c({stroke:"#DDD",fill:"#000"}),focus:new c({stroke:"#FFF",fill:"#0bd"})}),v=h.ScaleBarComponent=new ovi.Class({Extends:d.map.component.ScaleBar,Statics:{Tj:0.3048006,wf:1609.344},build:function(){var a=ovi.bind;this._super("nm_scalebarWrap");
this.ca=this.node;this.Nk=this.Wb=b(this.findElement("nm_scaleBarExpandableElement"));this.ke=this.findElement("nm_scalebarUnitinfo");this.zq=this.findElement("nm_scalebarTextTester");this.Jq=this.ke.innerHTML;this.zq.style.font="bold 10px Arial";this.le=a(this,this.Kj);this.Za=a(this,this.Za);this.Ya=a(this,this.Ya);this.ba=a(this,this.ba);this.Zf=w.normal;this.th=null;this.Gi=!1;this.onLanguageChange()},attach:function(b){this._super(b);b=this.Wb;this.mapDisplay.addListener("mapviewchangeend",this.ba);
b.addListener(a,this.le);b.addListener(e,this.Za);b.addListener(l,this.Ya);b.addListener(f,this.Za);b.addListener(p,this.Ya);this.show();this.ba();this.Ra=!0;this.set("conceal",!1)},detach:function(b){var c=this.Wb;this.mapDisplay.removeListener("mapviewchangeend",this.ba);c.removeListener(a,this.le);c.removeListener(e,this.Za);c.removeListener(l,this.Ya);c.removeListener(f,this.Za);c.removeListener(p,this.Ya);this.Sp();this.th=null;this._super(b);this.hide();this.set("conceal",!0)},show:function(){this._super()},
C:function(){this.setCursorPointer();this.Zf=w.focus;this.ba()},G:function(){this.setCursorDefault();this.Zf=w.normal;this.ba()},bb:function(a){a.nativeEvent.keyCode===13&&this.Kj(a)},Kj:function(a){a&&(a.preventDefault(),a.stopPropagation());this.Zf=w.normal;this.set("showImperialUnits",!this.na)},switchUnit:function(a){this.na=a;this.Ra&&(a?(ovi.dom.removeClass(this.Wb,"nm_metric"),ovi.dom.addClass(this.Wb,"nm_imperial")):(ovi.dom.removeClass(this.Wb,"nm_imperial"),ovi.dom.addClass(this.Wb,"nm_metric")),
this.ba())},Za:function(a){if(!this.Gi){if(this.isMouseover(a))this.C(),this.Nk.title=this.translate("ovi.service.map._"+(this.na?"t30":"t29"));this.Gi=!0}},Ya:function(a){if(this.Gi)this.isMouseout(a)&&this.G(),this.Gi=!1},ba:function(){if(this.enabled){var a=this.calculateMPP();if(this.Xr!=a)this.Wr=a,this.calculateDistance(a),this.ss(y(this.sh/this.Bk*r),this.sh)}},ss:function(a,b){function c(a,b){a.beginPath();a.moveTo(2,8);a.lineTo(2,16);a.lineTo(b-2,16);a.lineTo(b-2,8);a.lineTo(b-4,8);a.lineTo(b-
4,14);a.lineTo(4,14);a.lineTo(4,8);a.lineTo(2,8);a.closePath();return a}var e=this,f=b+" "+e.Ck,d=new s(function(b){var d=a+4+2,g=d+2,h=e.zq,k=0;h.innerHTML=f;k=g-h.offsetWidth-4-2-2;b.beginImage(g,20,"ScaleBar");e.ca.style.width=g+"px";e.ca.style.height="20px";b.set("strokeColor",u(e.Zf.stroke));b.set("fillColor",u(e.Zf.fill));b.set("lineWidth",2.5);b.set("lineJoin","round");b.set("font","bold 10px Arial");b.strokeText(f,k+0.5,10);b.fillText(f,k,10);b.set("lineWidth",4);b=c(b,d);b.stroke();b.set("lineWidth",
0);b=c(b,d);b.fill()});e.Sp();e.th=d.createElement();e.th.className=m;e.Nk.style.cssText="-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;";e.Nk.appendChild(e.th)},Sp:function(){var a=this.th;a&&a.parentNode&&a.parentNode.removeChild(a)},calculateDistance:function(a){a*=r;var b;this.na?a<v.wf?(a/=v.Tj,b=this.translate("ovi.service.map._t23")):(a/=v.wf,b=this.translate("ovi.service.map._t24")):a<1E3?
b=this.translate("ovi.service.map._t25"):(a/=1E3,b=this.translate("ovi.service.map._t26"));this.Ck=b;this.Bk=a;b=q.pow(10,y(q.log(a)/q.LN10));a>=5*b?b*=5:a>=2*b&&(b*=2);this.sh=b},onLanguageChange:function(){r=d.util.getRootNameSpace("nokia.maps").Language.language.iso639_1=="zh"?140:100;this.ba()}});d.map.component.ScaleBar=h.ScaleBarComponent})(nokia.maps);ovi.provide("nokia.maps.map.component.DistanceMeasurement");
(function(d){var k=d.dom.Page,h=k.browser.touch,c=h?"touch":"mouse",b=h?"tap":"click",g=h?"dbltap":"dblclick",a=c+"enter",e=c+"leave",l=new ovi.Class({Extends:d.map.Marker,initialize:function(a,b){b=b||{};b.draggable=!0;this._super(a,b)}});d.map.component.DistanceMeasurement=new ovi.Class({Extends:d.map.component.Component,initialize:function(a){this._super(a);this.clickListener=ovi.bind(this,this.clickListener);this.dragListener=ovi.bind(this,this.dragListener);this.dragStartListener=ovi.bind(this,
this.dragStartListener);this.enterListener=ovi.bind(this,this.enterListener);this.leaveListener=ovi.bind(this,this.leaveListener);this.dblClickListener=ovi.bind(this,this.dblClickListener);this.container=new d.map.Container},d:"DistanceMeasurement",n:"0.0.0.1",container:null,coordinates:new ovi.Array,markers:new ovi.Array,lines:new ovi.Array,labels:void 0,hovered:!1,Ra:!1,ud:0,startMarkerOptions:{},middleMarkerOptions:{},endMarkerOptions:{},normalPen:{strokeColor:"#C22A",lineWidth:6},hoverPen:{strokeColor:"#614A",
lineWidth:8},textLabelOnFirstMarker:!0,attach:function(a){this._super(a)},Rc:function(){var c=this.mapDisplay;if(!this.Ra)c.addListener(b,this.clickListener),c.addListener("drag",this.dragListener),c.addListener("dragend",this.dragListener,!0),c.addListener("dragstart",this.dragStartListener,!0),c.addListener(a,this.enterListener),c.addListener(e,this.leaveListener),c.addListener(g,this.dblClickListener),this.Ra=!0},detach:function(a){this.disable();this.Pb();this._super(a)},Pb:function(){var c=this.mapDisplay;
if(this.Ra)c.removeListener(b,this.clickListener),c.removeListener("drag",this.dragListener),c.removeListener("dragend",this.dragListener,!0),c.removeListener("dragstart",this.dragStartListener,!0),c.removeListener(a,this.enterListener),c.removeListener(e,this.leaveListener),c.removeListener(g,this.dblClickListener),this.Ra=!1},enable:function(){this.mapDisplay&&(this.mapDisplay.objects.add(this.container),this.Rc())},disable:function(){if(this.mapDisplay)this.Pb(),this.mapDisplay.objects.remove(this.container),
this.container.objects.clear(),this.coordinates.length=0,this.markers.length=0,this.lines.length=0,this.labels=void 0,this.hovered=!1,this.updateMap()},addCoordinate:function(a){var b=this.coordinates,c=this.markers,e=this.container.objects,d=b.length,g;b.push(a);d>1&&(g=c.pop(),e.remove(g),g=this.createMarker(c.length,c.length+1,g.coordinate),c.push(g),e.add(g));marker=this.createMarker(c.length,d,a);this.markers.push(marker);this.container.objects.add(marker);d>=1&&this.addLine(b[d-1],b[d]);this.hovered=
!0;this.showLabels()},addLine:function(a,b){var c=this.createLine(a,b);this.lines.push(c);this.container.objects.add(c)},createLine:function(a,b){var c=new d.map.Polyline([a,b],{pen:this.normalPen});c.enableDrag();return c},clickListener:function(a){if(!(a.type=="click"&&a.button!==0)){var b=a.target,c=this.lines.indexOf(b),e=this.markers.indexOf(b),d=this.labels?this.labels.indexOf(b):-1,g=this.mapDisplay.pixelToGeo(a.displayX,a.displayY);if(d<0)if(c<0)if(e<0)this.addCoordinate(g),this.hideLabels(),
this.showLabels();else{if(k.platform.mac?a.metaKey:a.ctrlKey)this.hideLabels(),this.removeMarker(b,e),--this.ud}else b.set("pen",this.normalPen),this.splitLine(b,g,c);this.updateMap()}},dblClickListener:function(){},removeMarker:function(a,b){var c=this.lines,e,d=this.container.objects,g=this.markers.length,h=b===g-1;b>0&&!h&&c[b-1].path.set(1,this.coordinates[b+1]);d.remove(a);d.remove(c[b]);this.coordinates.splice(b,1);this.markers.splice(b,1);c.splice(b,1);if(b===0&&(e=this.markers.shift()))d.remove(e),
e=this.createMarker(b,g,e.coordinate),this.markers.unshift(e),d.add(e);h&&b>1&&(e=this.markers.pop(),d.remove(e),e=this.createMarker(g,g,e.coordinate),this.markers.push(e),d.add(e));h&&this.container.objects.remove(c.pop());this.updateMap()},splitLine:function(a,b,c){var e;this.coordinates.splice(c+1,0,b);e=this.createMarker(c+1,this.markers.length,b);this.markers.splice(c+1,0,e);this.container.objects.add(e);e=a.path.get(1);a.path.set(1,b);a=this.createLine(b,e);this.lines.splice(c+1,0,a);this.container.objects.add(a)},
createMarker:function(a,b,c){b=a>=b;return a===0?new l(c,this.startMarkerOptions):b?new l(c,this.endMarkerOptions):new l(c,this.middleMarkerOptions)},dragListener:function(a){var b=a.target,c,e=this.markers.indexOf(b),d=this.lines;e<0||(c=this.getEventCoordinate(a),this.coordinates[e]=c,b.set("coordinate",c),e>0&&d[e-1].path.set(1,c),e<d.length&&d[e].path.set(0,c),this.isOwnElement(a.target)&&(this.hideLabels(),this.showLabels()),this.updateMap())},dragStartListener:function(a){var b=a.target,c=this.lines,
e=this.normalPen,d=this.lines.indexOf(b);if(d>-1)this.clickListener(a),a.preventDefault(),b.set("pen",e);else if((d=this.markers.indexOf(b))>-1)a.dataTransfer.lift=!1,c[d-1]&&c[d-1].set("pen",e),c[d]&&c[d].set("pen",e)},updateMap:function(){this.mapDisplay.update(0)},getEventCoordinate:function(a){var b=a.target.anchor,c=a.dataTransfer.getData("application/map-drag-object-offset");return this.mapDisplay.pixelToGeo(a.displayX-c.x+b.x,a.displayY-c.y+b.y)},enterListener:function(a){var b=a.target,c=
this.lines.indexOf(b);if(this.isOwnElement(a.target))this.ud++,this.hovered=!0,this.showLabels();c<0||(b.set("pen",this.hoverPen),this.updateMap())},leaveListener:function(a){var b=this,c=a.target,e=b.lines.indexOf(c);if(b.isOwnElement(a.target)&&!--b.ud)b.hovered=!1,setTimeout(function(){b.hovered||b.hideLabels()},200);e<0||(c.set("pen",b.normalPen),b.updateMap())},getDistance:function(a){var b=0,c=this.coordinates,a=a===void 0?c.length-1:a;ovi.each(c,function(e,d){d===0||d>a||(b+=e.distance(c[d-
1]))});return this.formatLength(b)},getSegmentDistance:function(a){if(a=this.lines[a])return this.formatLength(a.path.get(0).distance(a.path.get(1)))},isOwnElement:function(a){return a.f==this.container},formatLength:function(a){return a},showLabels:function(){var a=this;if(!(a.labels||a.lines.length===0))a.labels=new ovi.Array,a.markers.map(function(b,c){(a.textLabelOnFirstMarker||c>0)&&a.labels.push(a.createLabel(b.coordinate,a.getDistance(c),!1))}),a.lines.map(function(b,c){a.labels.push(a.createLabel(b.getBoundingBox().getCenter(),
a.getSegmentDistance(c),!0))}),a.container.objects.addAll(a.labels),a.updateMap()},hideLabels:function(){var a=this;if(a.labels)a.labels.map(function(b){a.container.objects.remove(b)}),a.labels=void 0,a.updateMap()},createLabel:function(a,b,c){var e=(b+"").length*9,g={x:-11,y:8};c&&(g={x:e*0.4,y:8});return new d.map.Marker(a,{icon:new d.gfx.GraphicsImage(function(a){a.beginImage(e,15);a.set("font","12px sans-serif");a.set("strokeColor",d.gfx.Color.parseCss("white"));a.set("lineWidth",4);a.strokeText(b,
2,12);a.fillText(b,2,12)}),anchor:g,zIndex:100,width:e,height:15})}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.DistanceMeasurement");
(function(d){var k=d.ui.common,h=d.ui.nokia_generic,c=d.map.component.DistanceMeasurement,b=d.dom.EventTarget,g=h.UIComponent,a=g.EVENT_CLICK,e={icon:new d.gfx.GraphicsImage(function(a){a.beginImage(22,22);a.set("fillColor","#661144");a.drawEllipse(0,0,22,22);a.fill();a.set("fillColor","#ffffff");a.drawEllipse(5,5,12,12);a.fill()}),anchor:new nokia.maps.util.Point(11,11)},d=k.ColorSet,l=new k.ColorScheme({normal:new d({stroke:"#333",fill:"#00BBDC"}),focus:new d({stroke:"#333",fill:"#333"}),active:new d({stroke:"#FFF",
fill:"#FFF"})}),f={"2d":"MAP_2D","3d":"GLOBE",panorama:"PANORAMA"};h.DistanceMeasurement=new ovi.Class({Extends:g,initialize:function(a){this._super(a);a=a||{};a.startMarkerOptions=e;a.middleMarkerOptions=e;a.endMarkerOptions=e;a.normalPen=a.normalPen||{};a.normalPen.strokeColor="614A";a.normalPen.lineWidth=6;a.hoverPen=a.hoverPen||{};a.hoverPen.strokeColor="614F";a.hoverPen.lineWidth=8;a.textLabelOnFirstMarker=!1;this.ka=new c(a);this.ka.formatLength=ovi.bind(this,this.Tk);this.d=this.ka.d;this.n=
this.ka.n;this.q=this.MAP_2D},ka:null,la:!1,na:!1,build:function(){this._super("nm_rulerWrap");this.t=b(this.node);this.Ld=b(this.findElement("nm_rulerButton_icon_normal"));this.bh=b(this.findElement("nm_rulerButton_icon_pressed"));this.M=ovi.bind(this,this.M);this.hide();this.setAria("pressed","false",this.node);this.onLanguageChange()},attach:function(b){this._super(b);var c=this.t,e=b.getComponentById("ScaleBar"),d=this.Ld,f=this.bh;this.initGraphics(d,"default");this.initGraphics(f,l);this.Sc(d,
f);c.addListener(a,this.M);this.ka.attach(b);if(e)this.na=e.showImperialUnit,this.Hc(e,1);b.components.addObserver(this.Tc,this);this.set("conceal",0)},detach:function(b){var c=this.t,e=b.getComponentById("ScaleBar");this.Sc(this.Ld,this.bh);c.removeListener(a,this.M);this._super(b);this.ka.detach(b);e&&this.Hc(e,0);b.components.removeObserver(this.Tc,this);this.set("conceal",0)},Tc:function(a,b,c){c.getId()==="ScaleBar"&&(b=="add"?this.Hc(c,1):this.Hc(c,0))},Hc:function(a,b){a[(b?"add":"remove")+
"Observer"]("showImperialUnits",this.rk,this)},rk:function(a,b,c){if(b=="showImperialUnits")this.na=c},M:function(){var a=this.ka;this.la?(a.disable(),this.la=0,this.setAria("pressed","false",this.node)):(a.enable(),this.la=1,this.setAria("pressed","true",this.node));this.ne()},hide:function(){var a=this.ka;this._super();a.disable();this.la=0;this.setAria("pressed","false",this.node)},bb:function(a){a.nativeEvent.keyCode===13&&this.M()},Tk:function(a){var b=0;this.na?a<1609.344?(a/=0.3048006,unitStr=
this.translate("ovi.service.map._t23"),b=1):(a/=1609.344,unitStr=this.translate("ovi.service.map._t24")):a<1E3?(unitStr=this.translate("ovi.service.map._t25"),b=1):(a/=1E3,unitStr=this.translate("ovi.service.map._t26"));a=Math.round(a*10)/10;b&&(a=Math.round(a));a+=" "+unitStr;return a},ne:function(){this.node.title=this.translate("ovi.service.map._"+(this.la?"t93":"t92"))},onLanguageChange:function(){this.ne()},MAP_2D:1,PANORAMA:2,GLOBE:4,q:0,isCompatible:function(a){return this.q&this[f[a]]}});
nokia.maps.map.component.DistanceMeasurement=nokia.maps.ui.nokia_generic.DistanceMeasurement})(nokia.maps);ovi.provide("nokia.maps.ui._packaging.package-nokia_generic");})();
